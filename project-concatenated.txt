====================================
  Projet Angular - Code Source
  Date: Fri Dec 12 21:33:00 CET 2025
====================================

Arborescence du projet:

./src
├── app
│   ├── app.component.html
│   ├── app.component.scss
│   ├── app.component.ts
│   ├── app.config.ts
│   ├── app.html
│   ├── app.routes.ts
│   ├── app.scss
│   ├── app.ts
│   ├── components
│   │   ├── admin-dashboard
│   │   │   ├── admin-dashboard.component.html
│   │   │   ├── admin-dashboard.component.scss
│   │   │   ├── admin-dashboard.component.ts
│   │   │   ├── dashboard-stats
│   │   │   │   ├── dashboard-stats.component.html
│   │   │   │   ├── dashboard-stats.component.scss
│   │   │   │   └── dashboard-stats.component.ts
│   │   │   ├── manage-events
│   │   │   │   ├── manage-events.component.html
│   │   │   │   ├── manage-events.component.scss
│   │   │   │   └── manage-events.component.ts
│   │   │   ├── manage-feedback
│   │   │   │   ├── manage-feedback.component.html
│   │   │   │   ├── manage-feedback.component.scss
│   │   │   │   └── manage-feedback.component.ts
│   │   │   ├── manage-gallery
│   │   │   │   ├── manage-gallery.component.html
│   │   │   │   ├── manage-gallery.component.scss
│   │   │   │   └── manage-gallery.component.ts
│   │   │   ├── manage-hero
│   │   │   │   ├── manage-hero.component.html
│   │   │   │   ├── manage-hero.component.scss
│   │   │   │   └── manage-hero.component.ts
│   │   │   ├── manage-reservations
│   │   │   │   ├── manage-reservations.component.html
│   │   │   │   ├── manage-reservations.component.scss
│   │   │   │   └── manage-reservations.component.ts
│   │   │   └── settings
│   │   │       ├── settings.component.html
│   │   │       ├── settings.component.scss
│   │   │       └── settings.component.ts
│   │   ├── footer
│   │   │   ├── footer.component.html
│   │   │   ├── footer.component.scss
│   │   │   └── footer.component.ts
│   │   ├── gallery
│   │   │   ├── gallery.component.html
│   │   │   ├── gallery.component.scss
│   │   │   └── gallery.component.ts
│   │   ├── header
│   │   │   ├── header.component.html
│   │   │   ├── header.component.scss
│   │   │   └── header.component.ts
│   │   ├── hero-slider
│   │   │   ├── hero-slider.component.html
│   │   │   ├── hero-slider.component.scss
│   │   │   └── hero-slider.component.ts
│   │   └── slider
│   │       ├── slider.component.html
│   │       ├── slider.component.scss
│   │       └── slider.component.ts
│   ├── guards
│   │   └── admin.guard.ts
│   ├── models
│   │   ├── event.ts
│   │   ├── feedback.ts
│   │   ├── gallery.ts
│   │   ├── hero-slide.ts
│   │   ├── index.ts
│   │   ├── reservation.ts
│   │   └── settings.ts
│   ├── pages
│   │   ├── accueil
│   │   │   ├── accueil.component.html
│   │   │   ├── accueil.component.scss
│   │   │   └── accueil.component.ts
│   │   ├── admin-login
│   │   │   ├── admin-login.component.html
│   │   │   └── admin-login.component.ts
│   │   ├── contact
│   │   │   ├── contact.component.html
│   │   │   ├── contact.component.scss
│   │   │   └── contact.component.ts
│   │   ├── evenements
│   │   │   ├── evenements.component.html
│   │   │   ├── evenements.component.scss
│   │   │   └── evenements.component.ts
│   │   ├── home
│   │   │   ├── home.component.html
│   │   │   ├── home.component.scss
│   │   │   └── home.component.ts
│   │   ├── page-not-found
│   │   │   └── page-not-found.component.ts
│   │   └── reservations
│   │       ├── reservations.component.html
│   │       ├── reservations.component.scss
│   │       └── reservations.component.ts
│   └── services
│       ├── auth.service.ts
│       ├── auth.ts
│       ├── email.service.ts
│       ├── firebase.service.ts
│       ├── firebase.ts
│       ├── firestore.service.ts
│       ├── seo.service.ts
│       ├── supabase.service.ts
│       └── supabase.ts
├── environments
│   ├── environment.development.ts
│   ├── environment.prod.ts
│   └── environment.ts
├── index.html
├── main.ts
├── robots.txt
├── sitemap.xml
└── styles.scss

28 directories, 90 files

====================================
  FICHIERS SOURCE
====================================


====================================
FICHIER: ./src/app/app.component.ts
Lignes:       48
====================================

import { Component, inject } from '@angular/core';
import { RouterOutlet, RouterModule, Router, NavigationEnd } from '@angular/router';
import { CommonModule } from '@angular/common';
import { filter } from 'rxjs/operators';
import { HeaderComponent } from './components/header/header.component';
import { FooterComponent } from './components/footer/footer.component';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [RouterOutlet, RouterModule, CommonModule, HeaderComponent, FooterComponent],
  template: `
    <div class="flex flex-col min-h-screen relative bg-gray-50 font-sans">
      
      <app-header class="z-50"></app-header>

      <main class="flex-grow w-full pt-12"> 
        <router-outlet></router-outlet>
      </main>

      <app-footer></app-footer>

      <a *ngIf="!isHomePage"
         routerLink="/" 
         class="fixed bottom-6 left-6 z-[100] p-3 bg-white text-blue-600 rounded-full shadow-2xl border-2 border-blue-600 hover:bg-blue-600 hover:text-white transition-all duration-300 transform hover:scale-110 flex items-center justify-center group cursor-pointer print:hidden"
         title="Retour à l'accueil">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
      </a>

    </div>
  `,
  styleUrls: ['./app.component.scss']
})
export class AppComponent {
  private router = inject(Router);
  isHomePage = false;

  constructor() {
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd)
    ).subscribe((event: any) => {
      this.isHomePage = event.url === '/' || event.url === '/#';
      window.scrollTo(0, 0);
    });
  }
}

====================================
FICHIER: ./src/app/app.config.ts
Lignes:       49
====================================

import { ApplicationConfig, provideZoneChangeDetection, isDevMode } from '@angular/core';
import { provideRouter, withComponentInputBinding } from '@angular/router';
import { provideAnimations } from '@angular/platform-browser/animations';
import { provideHttpClient } from '@angular/common/http';

// Import des routes
import { routes } from './app.routes';

// Import Environment
import { environment } from '../environments/environment';

// Imports Firebase
import { initializeApp, provideFirebaseApp } from '@angular/fire/app';
import { getAuth, provideAuth } from '@angular/fire/auth';
import { getFirestore, provideFirestore } from '@angular/fire/firestore';
import { getStorage, provideStorage } from '@angular/fire/storage';
import { provideServiceWorker } from '@angular/service-worker';

export const appConfig: ApplicationConfig = {
  providers: [
    // Optimisation Angular 18
    provideZoneChangeDetection({ eventCoalescing: true }),
    
    // Router : Retrait de withViewTransitions() qui cause l'erreur InvalidStateError
    provideRouter(
      routes, 
      withComponentInputBinding()
    ),
    
    // Animations
    provideAnimations(),

    // HTTP Client
    provideHttpClient(),

    // --- FIREBASE INITIALIZATION ---
    provideFirebaseApp(() => initializeApp(environment.firebase)),
    
    // Services Firebase
    provideAuth(() => getAuth()),           
    provideFirestore(() => getFirestore()), 
    provideStorage(() => getStorage()), 
    
    provideServiceWorker('ngsw-worker.js', {
      enabled: !isDevMode(),
      registrationStrategy: 'registerWhenStable:30000'
    })
  ]
};

====================================
FICHIER: ./src/app/app.routes.ts
Lignes:       68
====================================

import { Routes } from '@angular/router';
import { adminGuard } from './guards/admin.guard';
import { PageNotFoundComponent } from './pages/page-not-found/page-not-found.component';

export const routes: Routes = [
  // --- ROUTES PUBLIQUES ---
  { 
    path: '', 
    loadComponent: () => import('./pages/home/home.component').then(m => m.HomeComponent) 
  },
  { 
    path: 'evenements', 
    loadComponent: () => import('./pages/evenements/evenements.component').then(m => m.EvenementsComponent) 
  },
  { 
    path: 'reservations', 
    loadComponent: () => import('./pages/reservations/reservations.component').then(m => m.ReservationsComponent) 
  },
  { 
    path: 'contact', 
    loadComponent: () => import('./pages/contact/contact.component').then(m => m.ContactComponent) 
  },
  { 
    path: 'admin-login', 
    loadComponent: () => import('./pages/admin-login/admin-login.component').then(m => m.AdminLoginComponent) 
  },

  // --- ADMIN ROUTES ---
  { 
    path: 'admin', 
    loadComponent: () => import('./components/admin-dashboard/admin-dashboard.component').then(m => m.AdminDashboardComponent),
    canActivate: [adminGuard],
    children: [
      { path: '', redirectTo: 'stats', pathMatch: 'full' },
      { 
        path: 'stats', 
        loadComponent: () => import('./components/admin-dashboard/dashboard-stats/dashboard-stats.component').then(m => m.DashboardStatsComponent) 
      },
      { 
        path: 'events', 
        loadComponent: () => import('./components/admin-dashboard/manage-events/manage-events.component').then(m => m.ManageEventsComponent) 
      },
      { 
        path: 'reservations', 
        loadComponent: () => import('./components/admin-dashboard/manage-reservations/manage-reservations.component').then(m => m.ManageReservationsComponent) 
      },
      { 
        path: 'gallery', 
        loadComponent: () => import('./components/admin-dashboard/manage-gallery/manage-gallery.component').then(m => m.ManageGalleryComponent) 
      },
      { 
        path: 'hero', 
        loadComponent: () => import('./components/admin-dashboard/manage-hero/manage-hero.component').then(m => m.ManageHeroComponent) 
      },
      // NOUVELLE ROUTE FEEDBACK
      { 
        path: 'feedback', 
        loadComponent: () => import('./components/admin-dashboard/manage-feedback/manage-feedback.component').then(m => m.ManageFeedbackComponent) 
      },
      { 
        path: 'settings', 
        loadComponent: () => import('./components/admin-dashboard/settings/settings.component').then(m => m.SettingsComponent) 
      }
    ]
  },

  { path: '**', component: PageNotFoundComponent }
];

====================================
FICHIER: ./src/app/app.ts
Lignes:       12
====================================

import { Component, signal } from '@angular/core';
import { RouterOutlet } from '@angular/router';

@Component({
  selector: 'app-root',
  imports: [RouterOutlet],
  templateUrl: './app.html',
  styleUrl: './app.scss'
})
export class App {
  protected readonly title = signal('kyranispark');
}

====================================
FICHIER: ./src/app/components/admin-dashboard/admin-dashboard.component.ts
Lignes:       58
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Router, RouterModule, NavigationEnd } from '@angular/router'; // Import NavigationEnd
import { AuthService } from '../../services/auth.service';
import { FirestoreService } from '../../services/firestore.service';
import { Observable } from 'rxjs';
import { map, filter } from 'rxjs/operators'; // Import filter
import { User } from '@angular/fire/auth';

@Component({
  selector: 'app-admin-dashboard',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './admin-dashboard.component.html',
  styleUrls: ['./admin-dashboard.component.scss']
})
export class AdminDashboardComponent implements OnInit {
  private authService = inject(AuthService);
  private firestoreService = inject(FirestoreService);
  private router = inject(Router);

  currentUser$: Observable<User | null> = this.authService.getCurrentUser();
  
  // Compteurs pour les badges
  reservationCount$: Observable<number> = this.firestoreService.getReservations().pipe(
    map(reservations => reservations.filter(r => r.status === 'pending').length)
  );
  
  eventCount$: Observable<number> = this.firestoreService.getEvents().pipe(
    map(events => events.length)
  );

  isSidebarOpen = false;

  ngOnInit() {
    // FERMETURE AUTOMATIQUE EN RESPONSIVE
    // À chaque changement d'URL (fin de navigation), on ferme la sidebar
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd)
    ).subscribe(() => {
      this.isSidebarOpen = false;
    });
  }

  toggleSidebar() {
    this.isSidebarOpen = !this.isSidebarOpen;
  }

  // Méthode explicite pour fermer (utilisable depuis le HTML si besoin)
  closeSidebar() {
    this.isSidebarOpen = false;
  }

  async logout() {
    await this.authService.logout();
    this.router.navigate(['/']);
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/dashboard-stats/dashboard-stats.component.ts
Lignes:      148
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FirestoreService } from '../../../services/firestore.service';
import { forkJoin } from 'rxjs';
import { take } from 'rxjs/operators';
import { Event, Reservation, Gallery } from '../../../models';

@Component({
  selector: 'app-dashboard-stats',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './dashboard-stats.component.html',
  styleUrls: ['./dashboard-stats.component.scss']
})
export class DashboardStatsComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  isLoading = true;

  stats = {
    revenue: {
      total: 0,
      monthly: [] as { month: string, amount: number, height: number }[]
    },
    reservations: {
      total: 0,
      pending: 0,
      confirmed: 0,
      cancelled: 0
    },
    events: {
      total: 0,
      upcoming: 0,
      past: 0
    },
    media: {
      totalImages: 0,
      totalVideos: 0
    }
  };

  ngOnInit() {
    this.loadAllData();
  }

  loadAllData() {
    forkJoin({
      reservations: this.firestoreService.getReservations().pipe(take(1)),
      events: this.firestoreService.getEvents().pipe(take(1)),
      galleries: this.firestoreService.getGalleries().pipe(take(1))
    }).subscribe({
      next: (data) => {
        this.processReservations(data.reservations as Reservation[]);
        this.processEvents(data.events as Event[]);
        this.processMedia(data.events as Event[], data.galleries as Gallery[]);
        this.isLoading = false;
      },
      error: (err: any) => {
        console.error('Erreur chargement stats', err);
        this.isLoading = false;
      }
    });
  }

  processReservations(reservations: Reservation[]) {
    const now = new Date();
    const currentYear = now.getFullYear();
    const monthlyData = new Array(12).fill(0);

    let totalRev = 0;
    let pending = 0;
    let confirmed = 0;
    let cancelled = 0;

    reservations.forEach(res => {
      if (res.status === 'pending') pending++;
      if (res.status === 'confirmed') confirmed++;
      if (res.status === 'cancelled') cancelled++;

      if (res.status === 'confirmed') {
        totalRev += (res.totalPrice || 0);
        const d = res.date instanceof Date ? res.date : new Date(res.date);
        if (d.getFullYear() === currentYear) {
          monthlyData[d.getMonth()] += (res.totalPrice || 0);
        }
      }
    });

    this.stats.reservations = {
      total: reservations.length,
      pending,
      confirmed,
      cancelled
    };

    const maxRev = Math.max(...monthlyData, 1);
    const months = ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc'];

    this.stats.revenue = {
      total: totalRev,
      monthly: monthlyData.map((amount, index) => ({
        month: months[index],
        amount: amount,
        height: Math.round((amount / maxRev) * 100)
      }))
    };
  }

  processEvents(events: Event[]) {
    // FIX: Utilisation de minuit pour inclure aujourd'hui
    const now = new Date();
    now.setHours(0, 0, 0, 0);
    
    let upcoming = 0;
    let past = 0;

    events.forEach(e => {
      const d = e.date instanceof Date ? e.date : new Date(e.date);
      if (d >= now) upcoming++;
      else past++;
    });

    this.stats.events = {
      total: events.length,
      upcoming,
      past
    };
  }

  processMedia(events: Event[], galleries: Gallery[]) {
    let imgCount = 0;
    let vidCount = 0;

    events.forEach(e => {
      if (e.galleryImages) imgCount += e.galleryImages.length;
      if (e.galleryVideos) vidCount += e.galleryVideos.length;
    });

    galleries.forEach(g => {
      if (g.images) imgCount += g.images.length;
      if (g.videos) vidCount += g.videos.length;
    });

    this.stats.media = {
      totalImages: imgCount,
      totalVideos: vidCount
    };
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-events/manage-events.component.ts
Lignes:      213
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { FirestoreService } from '../../../services/firestore.service';
import { SupabaseService } from '../../../services/supabase.service';
import { Event } from '../../../models';

@Component({
  selector: 'app-manage-events',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: './manage-events.component.html',
  styleUrls: ['./manage-events.component.scss']
})
export class ManageEventsComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  private supabaseService = inject(SupabaseService);
  private fb = inject(FormBuilder);

  events: Event[] = [];
  
  // Pagination
  currentPage = 1;
  itemsPerPage = 10;
  totalPages = 1;

  // Modal State
  isModalOpen = false;
  isDeleteModalOpen = false;
  isSubmitting = false;
  isUploading = false;
  
  currentEventId: string | null = null;
  eventToDeleteId: string | null = null;

  eventForm: FormGroup;
  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  constructor() {
    this.eventForm = this.fb.group({
      title: ['', Validators.required],
      description: ['', Validators.required],
      date: ['', Validators.required],
      location: ['', Validators.required],
      galleryImages: [[]],
      galleryVideos: [[]]
    });
  }

  ngOnInit(): void {
    this.loadEvents();
  }

  loadEvents() {
    this.firestoreService.getEvents().subscribe({
      next: (data: Event[]) => {
        this.events = data.sort((a: any, b: any) => new Date(b.date).getTime() - new Date(a.date).getTime());
        this.updatePagination();
      },
      error: (err: any) => this.showToast('Erreur lors du chargement des événements', 'error')
    });
  }

  get paginatedEvents(): Event[] {
    const startIndex = (this.currentPage - 1) * this.itemsPerPage;
    return this.events.slice(startIndex, startIndex + this.itemsPerPage);
  }

  updatePagination() {
    this.totalPages = Math.ceil(this.events.length / this.itemsPerPage) || 1;
    if (this.currentPage > this.totalPages) this.currentPage = 1;
  }

  prevPage() { if (this.currentPage > 1) this.currentPage--; }
  nextPage() { if (this.currentPage < this.totalPages) this.currentPage++; }

  openCreateModal() {
    this.currentEventId = null;
    this.eventForm.reset({ galleryImages: [], galleryVideos: [] });
    this.isModalOpen = true;
  }

  openEditModal(event: Event) {
    this.currentEventId = event.eventId || null;
    const dateObj = new Date(event.date);
    const dateStr = dateObj.toISOString().split('T')[0];

    this.eventForm.patchValue({
      title: event.title,
      description: event.description,
      location: event.location,
      date: dateStr,
      galleryImages: event.galleryImages || [],
      galleryVideos: event.galleryVideos || []
    });
    this.isModalOpen = true;
  }

  closeModal() {
    this.isModalOpen = false;
    this.eventForm.reset();
  }

  async handleFileUpload(event: any, type: 'image' | 'video') {
    const files = event.target.files;
    if (!files || files.length === 0) return;

    this.isUploading = true;
    const currentUrls = type === 'image' 
      ? this.eventForm.get('galleryImages')?.value || []
      : this.eventForm.get('galleryVideos')?.value || [];

    try {
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        let result;
        
        if (type === 'image') {
          result = await this.supabaseService.uploadImage(file, 'events/images');
        } else {
          result = await this.supabaseService.uploadVideo(file, 'events/videos');
        }
        currentUrls.push(result.url);
      }
      
      if (type === 'image') this.eventForm.patchValue({ galleryImages: currentUrls });
      else this.eventForm.patchValue({ galleryVideos: currentUrls });

      this.showToast('Fichiers téléchargés avec succès !', 'success');
    } catch (error) {
      console.error(error);
      this.showToast('Erreur lors du téléchargement', 'error');
    } finally {
      this.isUploading = false;
      event.target.value = ''; 
    }
  }

  async removeMedia(url: string, type: 'image' | 'video') {
    if (!confirm('Voulez-vous supprimer ce média ?')) return;
    const field = type === 'image' ? 'galleryImages' : 'galleryVideos';
    const currentUrls = this.eventForm.get(field)?.value || [];
    const newUrls = currentUrls.filter((u: string) => u !== url);
    this.eventForm.patchValue({ [field]: newUrls });
  }

  async saveEvent() {
    if (this.eventForm.invalid) {
      this.eventForm.markAllAsTouched();
      return;
    }

    this.isSubmitting = true;
    const formVal = this.eventForm.value;

    const eventData: any = {
      title: formVal.title,
      description: formVal.description,
      location: formVal.location,
      date: new Date(formVal.date),
      galleryImages: formVal.galleryImages,
      galleryVideos: formVal.galleryVideos
    };

    try {
      if (this.currentEventId) {
        await this.firestoreService.updateEvent(this.currentEventId, eventData);
        this.showToast('Événement mis à jour', 'success');
      } else {
        await this.firestoreService.addEvent(eventData);
        this.showToast('Événement créé', 'success');
      }
      this.closeModal();
      this.loadEvents();
    } catch (error) {
      console.error(error);
      this.showToast('Erreur lors de la sauvegarde', 'error');
    } finally {
      this.isSubmitting = false;
    }
  }

  confirmDelete(eventId: string) {
    this.eventToDeleteId = eventId;
    this.isDeleteModalOpen = true;
  }

  async deleteEvent() {
    if (!this.eventToDeleteId) return;

    try {
      await this.firestoreService.deleteEvent(this.eventToDeleteId);
      this.showToast('Événement supprimé', 'success');
      this.loadEvents();
    } catch (error) {
      this.showToast('Erreur suppression', 'error');
    } finally {
      this.isDeleteModalOpen = false;
      this.eventToDeleteId = null;
    }
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }

  getStatus(date: Date): string {
    return new Date(date) < new Date() ? 'Passé' : 'À Venir';
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-feedback/manage-feedback.component.ts
Lignes:       62
====================================

import { Component, inject } from '@angular/core';
import { CommonModule, DatePipe } from '@angular/common';
import { FirestoreService } from '../../../services/firestore.service';
import { Feedback, FeedbackStatus } from '../../../models';
import { Observable } from 'rxjs';

@Component({
  selector: 'app-manage-feedback',
  standalone: true,
  imports: [CommonModule, DatePipe],
  templateUrl: './manage-feedback.component.html',
  styleUrls: ['./manage-feedback.component.scss']
})
export class ManageFeedbackComponent {
  private firestoreService = inject(FirestoreService);

  feedbacks$: Observable<Feedback[]> = this.firestoreService.getAllFeedbacks();
  
  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  getStatusClass(status: string): string {
    switch(status) {
      case 'approved': return 'bg-green-100 text-green-800';
      case 'rejected': return 'bg-red-100 text-red-800';
      default: return 'bg-yellow-100 text-yellow-800';
    }
  }

  getStatusLabel(status: string): string {
    switch(status) {
      case 'approved': return 'Publié';
      case 'rejected': return 'Refusé';
      default: return 'En attente';
    }
  }

  async updateStatus(id: string, status: FeedbackStatus) {
    try {
      await this.firestoreService.updateFeedbackStatus(id, status);
      this.showToast(`Avis ${status === 'approved' ? 'validé' : 'refusé'}`, 'success');
    } catch (e) {
      this.showToast('Erreur mise à jour', 'error');
    }
  }

  async deleteFeedback(id: string) {
    if(!confirm('Supprimer définitivement cet avis ?')) return;
    try {
      await this.firestoreService.deleteFeedback(id);
      this.showToast('Avis supprimé', 'success');
    } catch (e) {
      this.showToast('Erreur suppression', 'error');
    }
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-gallery/manage-gallery.component.ts
Lignes:      186
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { FirestoreService } from '../../../services/firestore.service';
import { SupabaseService } from '../../../services/supabase.service';
import { Gallery } from '../../../models';

@Component({
  selector: 'app-manage-gallery',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: './manage-gallery.component.html',
  styleUrls: ['./manage-gallery.component.scss']
})
export class ManageGalleryComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  private supabaseService = inject(SupabaseService);
  private fb = inject(FormBuilder);

  galleries: Gallery[] = [];
  
  isModalOpen = false;
  isSubmitting = false;
  isUploading = false;
  
  currentGalleryId: string | null = null;
  galleryForm: FormGroup;
  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  constructor() {
    this.galleryForm = this.fb.group({
      name: ['', Validators.required],
      category: ['park', Validators.required], // Défaut 'park' pour l'accueil
      images: [[]],
      videos: [[]] // Pour futur usage
    });
  }

  ngOnInit(): void {
    this.loadGalleries();
  }

  loadGalleries() {
    // On charge spécifiquement les galeries 'park' car c'est la demande principale (Notre Galerie)
    // Mais on peut enlever le filtre pour tout voir.
    this.firestoreService.getGalleries('park').subscribe({
      next: (data) => {
        this.galleries = data;
      },
      error: (e) => this.showToast('Erreur chargement galeries', 'error')
    });
  }

  openCreateModal() {
    this.currentGalleryId = null;
    this.galleryForm.reset({ 
      name: '', 
      category: 'park', 
      images: [], 
      videos: [] 
    });
    this.isModalOpen = true;
  }

  openEditModal(gallery: Gallery) {
    this.currentGalleryId = gallery.galleryId || null;
    this.galleryForm.patchValue({
      name: gallery.name,
      category: gallery.category,
      images: gallery.images || [],
      videos: gallery.videos || []
    });
    this.isModalOpen = true;
  }

  closeModal() {
    this.isModalOpen = false;
  }

  // --- GESTION SUPABASE ---

  async handleFileUpload(event: any) {
    const files = event.target.files;
    if (!files || files.length === 0) return;

    this.isUploading = true;
    const currentUrls = this.galleryForm.get('images')?.value || [];

    try {
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        // Upload vers dossier 'gallery'
        const result = await this.supabaseService.uploadImage(file, 'gallery');
        currentUrls.push(result.url);
      }
      
      this.galleryForm.patchValue({ images: currentUrls });
      this.showToast('Images ajoutées avec succès', 'success');
    } catch (error) {
      console.error(error);
      this.showToast('Erreur upload Supabase', 'error');
    } finally {
      this.isUploading = false;
      event.target.value = '';
    }
  }

  async removeImage(url: string) {
    if (!confirm('Supprimer cette image définitivement (Supabase & Base de données) ?')) return;

    try {
      // 1. Suppression physique chez Supabase
      await this.supabaseService.deleteFileByUrl(url);

      // 2. Mise à jour du formulaire local
      const currentUrls = this.galleryForm.get('images')?.value || [];
      const newUrls = currentUrls.filter((u: string) => u !== url);
      this.galleryForm.patchValue({ images: newUrls });

      // 3. Si on est en mode édition, on sauvegarde tout de suite pour synchroniser Firestore
      if (this.currentGalleryId) {
        await this.saveGallery(true); // true = silent save (pas de fermeture modal)
      } else {
        this.showToast('Image supprimée (pensez à sauvegarder l\'album)', 'success');
      }

    } catch (error) {
      console.error(error);
      this.showToast('Erreur lors de la suppression', 'error');
    }
  }

  // --- CRUD FIRESTORE ---

  async saveGallery(silent = false) {
    if (this.galleryForm.invalid) return;

    this.isSubmitting = true;
    const formData = this.galleryForm.value;
    
    // Objet Gallery
    const galleryData: any = {
      name: formData.name,
      category: formData.category,
      images: formData.images,
      videos: formData.videos
    };

    try {
      if (this.currentGalleryId) {
        await this.firestoreService.updateGallery(this.currentGalleryId, galleryData);
        if(!silent) this.showToast('Album mis à jour', 'success');
      } else {
        await this.firestoreService.addGallery(galleryData);
        if(!silent) this.showToast('Album créé', 'success');
      }
      
      if (!silent) {
        this.closeModal();
        // Pas besoin de recharger loadGalleries() car c'est un Observable en temps réel via firestoreService
      }
    } catch (error) {
      this.showToast('Erreur sauvegarde', 'error');
    } finally {
      this.isSubmitting = false;
    }
  }

  async confirmDelete(galleryId: string) {
    if(!confirm('Voulez-vous supprimer cet album complet ? Les images ne seront pas supprimées de Supabase automatiquement ici (sauf implémentation avancée).')) return;
    
    try {
      await this.firestoreService.deleteGallery(galleryId);
      this.showToast('Album supprimé', 'success');
    } catch (e) {
      this.showToast('Erreur suppression', 'error');
    }
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-hero/manage-hero.component.ts
Lignes:      115
====================================

import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { FirestoreService } from '../../../services/firestore.service';
import { SupabaseService } from '../../../services/supabase.service';
import { HeroSlide } from '../../../models';
import { Observable } from 'rxjs';

@Component({
  selector: 'app-manage-hero',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: './manage-hero.component.html',
  styleUrls: ['./manage-hero.component.scss']
})
export class ManageHeroComponent {
  private firestoreService = inject(FirestoreService);
  private supabaseService = inject(SupabaseService);
  private fb = inject(FormBuilder);

  slides$: Observable<HeroSlide[]> = this.firestoreService.getHeroSlides();
  
  slideForm: FormGroup;
  previewUrl: string | null = null;
  uploadedFileUrl: string | null = null;
  
  isUploading = false;
  isSubmitting = false;
  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  constructor() {
    this.slideForm = this.fb.group({
      title: ['', Validators.required],
      subtitle: ['', Validators.required]
    });
  }

  async handleFileUpload(event: any) {
    const file = event.target.files[0];
    if (!file) return;

    this.isUploading = true;
    
    // Preview immédiate
    const reader = new FileReader();
    reader.onload = (e: any) => this.previewUrl = e.target.result;
    reader.readAsDataURL(file);

    try {
      const result = await this.supabaseService.uploadImage(file, 'hero');
      this.uploadedFileUrl = result.url;
      this.showToast('Image uploadée !', 'success');
    } catch (error) {
      console.error(error);
      this.showToast('Erreur upload', 'error');
      this.previewUrl = null;
    } finally {
      this.isUploading = false;
    }
  }

  async addSlide() {
    if (this.slideForm.invalid || !this.uploadedFileUrl) return;

    this.isSubmitting = true;
    const { title, subtitle } = this.slideForm.value;

    const newSlide: HeroSlide = {
      imageUrl: this.uploadedFileUrl,
      title,
      subtitle,
      createdAt: new Date()
    };

    try {
      await this.firestoreService.addHeroSlide(newSlide);
      this.showToast('Slide ajoutée !', 'success');
      this.resetForm();
    } catch (error) {
      this.showToast('Erreur sauvegarde', 'error');
    } finally {
      this.isSubmitting = false;
    }
  }

  async deleteSlide(slide: HeroSlide) {
    if(!slide.id || !confirm('Supprimer cette slide ?')) return;

    try {
      // Suppression de l'image sur Supabase (clean up)
      if (slide.imageUrl) {
        await this.supabaseService.deleteFileByUrl(slide.imageUrl).catch(e => console.log('Supabase file not found or error', e));
      }
      
      // Suppression Firestore
      await this.firestoreService.deleteHeroSlide(slide.id);
      this.showToast('Slide supprimée', 'success');
    } catch (error) {
      this.showToast('Erreur suppression', 'error');
    }
  }

  resetForm() {
    this.slideForm.reset();
    this.previewUrl = null;
    this.uploadedFileUrl = null;
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-reservations/manage-reservations.component.ts
Lignes:      196
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule, DatePipe } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { FirestoreService } from '../../../services/firestore.service';
import { Reservation, ReservationStatus } from '../../../models';

@Component({
  selector: 'app-manage-reservations',
  standalone: true,
  imports: [CommonModule, FormsModule, DatePipe],
  templateUrl: './manage-reservations.component.html',
  styleUrls: ['./manage-reservations.component.scss']
})
export class ManageReservationsComponent implements OnInit {
  private firestoreService = inject(FirestoreService);

  allReservations: Reservation[] = [];
  filteredReservations: Reservation[] = [];

  searchTerm: string = '';
  filterType: string = 'all';
  filterStatus: string = 'all';

  sortColumn: string = 'createdAt';
  sortDirection: 'asc' | 'desc' = 'desc';

  currentPage: number = 1;
  itemsPerPage: number = 10;
  totalPages: number = 1;

  isDetailModalOpen = false;
  isDeleteModalOpen = false;
  
  selectedReservation: Reservation | null = null;
  reservationToDeleteId: string | null = null;
  
  tempStatus: ReservationStatus = 'pending';
  isUpdating = false;

  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  ngOnInit(): void {
    this.loadReservations();
  }

  loadReservations() {
    this.firestoreService.getReservations().subscribe({
      next: (data: Reservation[]) => {
        this.allReservations = data;
        this.applyFilters();
      },
      error: (err: any) => this.showToast('Erreur chargement réservations', 'error')
    });
  }

  applyFilters() {
    let res = [...this.allReservations];

    if (this.searchTerm) {
      const term = this.searchTerm.toLowerCase();
      res = res.filter(r => 
        r.fullName.toLowerCase().includes(term) || 
        r.email.toLowerCase().includes(term)
      );
    }

    if (this.filterType !== 'all') {
      res = res.filter(r => r.type === this.filterType);
    }

    if (this.filterStatus !== 'all') {
      res = res.filter(r => r.status === this.filterStatus);
    }

    res.sort((a: any, b: any) => {
      let valA = a[this.sortColumn];
      let valB = b[this.sortColumn];

      if (valA instanceof Date) valA = valA.getTime();
      if (valB instanceof Date) valB = valB.getTime();
      
      if (typeof valA === 'string') valA = valA.toLowerCase();
      if (typeof valB === 'string') valB = valB.toLowerCase();

      if (valA < valB) return this.sortDirection === 'asc' ? -1 : 1;
      if (valA > valB) return this.sortDirection === 'asc' ? 1 : -1;
      return 0;
    });

    this.filteredReservations = res;
    this.updatePagination();
  }

  setSort(column: string) {
    if (this.sortColumn === column) {
      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';
    } else {
      this.sortColumn = column;
      this.sortDirection = 'asc';
    }
    this.applyFilters();
  }

  get paginatedItems(): Reservation[] {
    const start = (this.currentPage - 1) * this.itemsPerPage;
    return this.filteredReservations.slice(start, start + this.itemsPerPage);
  }

  updatePagination() {
    this.totalPages = Math.ceil(this.filteredReservations.length / this.itemsPerPage) || 1;
    if (this.currentPage > this.totalPages) this.currentPage = 1;
  }

  prevPage() { if (this.currentPage > 1) this.currentPage--; }
  nextPage() { if (this.currentPage < this.totalPages) this.currentPage++; }

  openDetailModal(res: Reservation) {
    this.selectedReservation = { ...res };
    this.tempStatus = res.status;
    this.isDetailModalOpen = true;
  }

  closeDetailModal() {
    this.isDetailModalOpen = false;
    this.selectedReservation = null;
  }

  async saveStatus() {
    if (!this.selectedReservation?.reservationId) return;
    
    this.isUpdating = true;
    try {
      await this.firestoreService.updateReservation(
        this.selectedReservation.reservationId, 
        this.tempStatus
      );
      this.showToast('Statut mis à jour avec succès', 'success');
      this.closeDetailModal();
    } catch (error) {
      this.showToast('Erreur mise à jour statut', 'error');
    } finally {
      this.isUpdating = false;
    }
  }

  async quickUpdateStatus(res: Reservation, status: ReservationStatus) {
    if (!res.reservationId) return;
    if (!confirm(`Voulez-vous changer le statut en "${status}" ?`)) return;

    try {
      await this.firestoreService.updateReservation(res.reservationId, status);
      this.showToast(`Réservation ${status}`, 'success');
    } catch (e) {
      this.showToast('Erreur', 'error');
    }
  }

  confirmDelete(id: string) {
    this.reservationToDeleteId = id;
    this.isDeleteModalOpen = true;
  }

  async deleteReservation() {
    if (!this.reservationToDeleteId) return;
    try {
      await this.firestoreService.deleteReservation(this.reservationToDeleteId);
      this.showToast('Réservation supprimée', 'success');
      this.isDeleteModalOpen = false;
    } catch (e) {
      this.showToast('Erreur suppression', 'error');
    }
  }

  getStatusColor(status: string): string {
    switch(status) {
      case 'confirmed': return 'bg-green-100 text-green-800';
      case 'cancelled': return 'bg-red-100 text-red-800';
      default: return 'bg-yellow-100 text-yellow-800';
    }
  }

  getTypeLabel(type: string): string {
    return type === 'boat' ? 'Bateau' : 'Parc';
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }

  sendEmailMock() {
    alert("Fonctionnalité d'envoi d'email à implémenter.");
  }
}

====================================
FICHIER: ./src/app/components/admin-dashboard/settings/settings.component.ts
Lignes:      143
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, ReactiveFormsModule } from '@angular/forms';
import { FirestoreService } from '../../../services/firestore.service';
import { SupabaseService } from '../../../services/supabase.service';

@Component({
  selector: 'app-settings',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: './settings.component.html',
  styleUrls: ['./settings.component.scss']
})
export class SettingsComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  private supabaseService = inject(SupabaseService);
  private fb = inject(FormBuilder);

  settingsForm: FormGroup;
  isLoading = true;
  isSaving = false;
  isUploadingLogo = false; // État upload
  
  toastMessage: string | null = null;
  toastType: 'success' | 'error' = 'success';

  constructor() {
    this.settingsForm = this.fb.group({
      businessName: ['Kyranis Park'],
      address: [''],
      phone: ['+216 28 417 822'],
      email: [''],
      facebookUrl: [''],
      homePageDescription: [''],
      parkDescription: [''],
      googleMapsEmbed: [''],
      openingHours: ['Du Lundi au Dimanche, 09h - 22h'],
      
      header: this.fb.group({
        logoText: ['KYRANIS PARK'],
        logoUrl: [''], // Champ caché pour l'URL de l'image
        menuHome: ['Accueil'],
        menuEvents: ['Événements'],
        menuReservations: ['Réservations'],
        menuContact: ['Contact']
      }),

      boatPrices: this.fb.group({
        flouka: [150],
        speed_boat: [400],
        catamaran: [800],
        yacht: [2500]
      }),
      eventPrices: this.fb.group({
        birthday: [500],
        marriage: [2000],
        conference: [1000],
        other: [500]
      })
    });
  }

  ngOnInit(): void {
    this.loadSettings();
  }

  loadSettings() {
    this.isLoading = true;
    this.firestoreService.getSettings().subscribe({
      next: (data: any) => {
        if (data) {
          this.settingsForm.patchValue(data);
        }
        this.isLoading = false;
      },
      error: (err: any) => {
        console.error(err);
        this.showToast('Erreur chargement paramètres', 'error');
        this.isLoading = false;
      }
    });
  }

  // --- LOGO UPLOAD ---
  async handleLogoUpload(event: any) {
    const file = event.target.files[0];
    if (!file) return;

    this.isUploadingLogo = true;
    try {
      // Upload vers un dossier 'settings'
      const result = await this.supabaseService.uploadImage(file, 'settings');
      
      // Mise à jour du formulaire avec l'URL
      this.settingsForm.get('header')?.patchValue({
        logoUrl: result.url
      });
      
      this.showToast('Logo téléchargé avec succès', 'success');
    } catch (error) {
      console.error(error);
      this.showToast('Erreur upload logo', 'error');
    } finally {
      this.isUploadingLogo = false;
    }
  }

  removeLogo() {
    if(confirm('Supprimer le logo et revenir au texte seul ?')) {
      this.settingsForm.get('header')?.patchValue({
        logoUrl: ''
      });
    }
  }

  // --- SAVE ---
  async onSubmit() {
    this.isSaving = true;
    const formData = this.settingsForm.value;

    try {
      await this.firestoreService.updateSettings(formData);
      this.showToast('Paramètres enregistrés avec succès', 'success');
    } catch (error) {
      console.error(error);
      this.showToast('Erreur lors de la sauvegarde', 'error');
    } finally {
      this.isSaving = false;
    }
  }

  resetForm() {
    if (confirm('Voulez-vous annuler les modifications non sauvegardées ?')) {
      this.loadSettings();
    }
  }

  showToast(msg: string, type: 'success' | 'error') {
    this.toastMessage = msg;
    this.toastType = type;
    setTimeout(() => this.toastMessage = null, 3000);
  }
}

====================================
FICHIER: ./src/app/components/footer/footer.component.ts
Lignes:       49
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { FirestoreService } from '../../services/firestore.service';
import { AppSettings } from '../../models';

@Component({
  selector: 'app-footer',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './footer.component.html',
  styleUrls: ['./footer.component.scss']
})
export class FooterComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  
  currentYear: number = new Date().getFullYear();

  // On met des données "en dur" pour que le footer s'affiche IMMÉDIATEMENT
  settings: AppSettings = {
    businessName: 'Kyranis Park',
    address: 'Zone Touristique, Îles Kerkennah',
    phone: '+216 28 417 822',
    email: 'contact@kyranispark.tn',
    facebookUrl: 'https://facebook.com/kyranispark',
    homePageDescription: 'Votre évasion au cœur des îles.',
    parkDescription: '',
    googleMapsEmbed: '',
    header: {
      logoText: 'KYRANIS PARK',
      menuHome: 'Accueil',
      menuEvents: 'Agenda',
      menuReservations: 'Réserver',
      menuContact: 'Contact'
    }
  };

  ngOnInit() {
    // On charge les vraies données de la base en arrière-plan
    this.firestoreService.getSettings().subscribe({
      next: (data) => {
        if (data) {
          // On fusionne les données reçues avec celles par défaut
          this.settings = { ...this.settings, ...data };
        }
      },
      error: (err) => console.error('Erreur chargement footer', err)
    });
  }
}
====================================
FICHIER: ./src/app/components/gallery/gallery.component.ts
Lignes:       79
====================================

import { Component, Input, OnChanges, SimpleChanges, HostListener } from '@angular/core';
import { CommonModule } from '@angular/common';

interface MediaItem {
  type: 'image' | 'video';
  url: string;
}

@Component({
  selector: 'app-gallery',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './gallery.component.html',
  styleUrls: ['./gallery.component.scss']
})
export class GalleryComponent implements OnChanges {
  @Input() images: string[] = [];
  @Input() videos: string[] = [];

  // Liste combinée pour la navigation
  items: MediaItem[] = [];
  
  // État de la lightbox
  isOpen = false;
  currentIndex = 0;

  ngOnChanges(changes: SimpleChanges): void {
    // Reconstruire la liste si les inputs changent
    if (changes['images'] || changes['videos']) {
      this.items = [
        ...(this.images || []).map(url => ({ type: 'image' as const, url })),
        ...(this.videos || []).map(url => ({ type: 'video' as const, url }))
      ];
    }
  }

  openLightbox(index: number): void {
    this.currentIndex = index;
    this.isOpen = true;
    document.body.style.overflow = 'hidden'; // Bloque le scroll du site
  }

  closeLightbox(): void {
    this.isOpen = false;
    document.body.style.overflow = 'auto'; // Réactive le scroll
  }

  next(): void {
    if (this.items.length === 0) return;
    if (this.currentIndex < this.items.length - 1) {
      this.currentIndex++;
    } else {
      this.currentIndex = 0; // Boucle au début
    }
  }

  prev(): void {
    if (this.items.length === 0) return;
    if (this.currentIndex > 0) {
      this.currentIndex--;
    } else {
      this.currentIndex = this.items.length - 1; // Boucle à la fin
    }
  }

  // --- GESTION CLAVIER ---
  @HostListener('window:keydown', ['$event'])
  handleKeyboardEvent(event: KeyboardEvent) {
    if (!this.isOpen) return;

    if (event.key === 'Escape') {
      this.closeLightbox();
    } else if (event.key === 'ArrowRight') {
      this.next();
    } else if (event.key === 'ArrowLeft') {
      this.prev();
    }
  }
}

====================================
FICHIER: ./src/app/components/header/header.component.ts
Lignes:       78
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule, Router, NavigationEnd } from '@angular/router'; // Import NavigationEnd
import { FirebaseService } from '../../services/firebase.service';
import { FirestoreService } from '../../services/firestore.service';
import { Observable } from 'rxjs';
import { filter } from 'rxjs/operators'; // Import filter
import { User } from '@angular/fire/auth';
import { AppSettings } from '../../models';

@Component({
  selector: 'app-header',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './header.component.html',
  styleUrls: ['./header.component.scss']
})
export class HeaderComponent implements OnInit {
  private firebaseService = inject(FirebaseService);
  private firestoreService = inject(FirestoreService);
  private router = inject(Router);

  user$: Observable<User | null> = this.firebaseService.user$;
  isMenuOpen = false;

  settings: AppSettings = {
    businessName: 'Kyranis Park',
    address: '',
    phone: '',
    email: '',
    facebookUrl: '',
    homePageDescription: '',
    parkDescription: '',
    googleMapsEmbed: '',
    header: {
      logoText: 'KYRANIS PARK',
      menuHome: 'Accueil',
      menuEvents: 'Événements',
      menuReservations: 'Réservations',
      menuContact: 'Contact'
    }
  };

  ngOnInit() {
    // 1. Chargement des paramètres
    this.firestoreService.getSettings().subscribe({
      next: (data) => {
        if (data) {
          this.settings = { ...this.settings, ...data };
        }
      },
      error: (err) => console.error('Erreur chargement header', err)
    });

    // 2. FERMETURE AUTOMATIQUE (Sécurité)
    // Écoute chaque changement de page pour fermer le menu
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd)
    ).subscribe(() => {
      this.isMenuOpen = false;
    });
  }

  toggleMenu() {
    this.isMenuOpen = !this.isMenuOpen;
  }

  closeMenu() {
    this.isMenuOpen = false;
  }

  logout() {
    this.firebaseService.logout().subscribe(() => {
      this.closeMenu();
      this.router.navigate(['/']);
    });
  }
}

====================================
FICHIER: ./src/app/components/hero-slider/hero-slider.component.ts
Lignes:      121
====================================

import { Component, OnInit, OnDestroy, HostListener, Inject, PLATFORM_ID, inject } from '@angular/core';
import { CommonModule, isPlatformBrowser } from '@angular/common';
import { RouterModule } from '@angular/router'; // AJOUT IMPORTANT
import { trigger, transition, style, animate, query, group } from '@angular/animations';
import { FirestoreService } from '../../services/firestore.service';
import { HeroSlide } from '../../models';

@Component({
  selector: 'app-hero-slider',
  standalone: true,
  imports: [CommonModule, RouterModule], // AJOUT DANS LES IMPORTS
  templateUrl: './hero-slider.component.html',
  styleUrls: ['./hero-slider.component.scss'],
  animations: [
    trigger('slideAnimation', [
      transition(':increment', [
        group([
          query(':enter', [
            style({ opacity: 0, transform: 'scale(1.1)' }),
            animate('1000ms ease-out', style({ opacity: 1, transform: 'scale(1)' }))
          ]),
          query(':leave', [
            animate('1000ms ease-out', style({ opacity: 0 }))
          ])
        ])
      ]),
      transition(':decrement', [
        group([
          query(':enter', [
            style({ opacity: 0, transform: 'scale(1.1)' }),
            animate('1000ms ease-out', style({ opacity: 1, transform: 'scale(1)' }))
          ]),
          query(':leave', [
            animate('1000ms ease-out', style({ opacity: 0 }))
          ])
        ])
      ])
    ])
  ]
})
export class HeroSliderComponent implements OnInit, OnDestroy {
  private firestoreService = inject(FirestoreService);

  defaultSlides: HeroSlide[] = [

  ];

  slides: HeroSlide[] = [...this.defaultSlides];
  currentIndex = 0;
  intervalId: any;
  scrollY = 0;
  isBrowser = false;

  constructor(@Inject(PLATFORM_ID) private platformId: Object) {
    this.isBrowser = isPlatformBrowser(this.platformId);
  }

  ngOnInit() {
    this.firestoreService.getHeroSlides().subscribe({
      next: (data) => {
        if (data && data.length > 0) {
          this.slides = data;
          if (this.currentIndex >= this.slides.length) {
            this.currentIndex = 0;
          }
        }
        this.resetTimer();
      },
      error: (err) => console.error(err)
    });

    this.startAutoPlay();
  }

  ngOnDestroy() {
    this.stopAutoPlay();
  }

  @HostListener('window:scroll', [])
  onWindowScroll() {
    if (this.isBrowser) {
      this.scrollY = window.scrollY;
    }
  }

  startAutoPlay() {
    if (this.isBrowser) {
      this.intervalId = setInterval(() => {
        this.nextSlide();
      }, 5000);
    }
  }

  stopAutoPlay() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
    }
  }

  resetTimer() {
    this.stopAutoPlay();
    this.startAutoPlay();
  }

  nextSlide() {
    if (!this.slides || this.slides.length === 0) return;
    this.currentIndex = (this.currentIndex + 1) % this.slides.length;
    this.resetTimer();
  }

  prevSlide() {
    if (!this.slides || this.slides.length === 0) return;
    this.currentIndex = (this.currentIndex - 1 + this.slides.length) % this.slides.length;
    this.resetTimer();
  }

  goToSlide(index: number) {
    this.currentIndex = index;
    this.resetTimer();
  }
}

====================================
FICHIER: ./src/app/components/slider/slider.component.ts
Lignes:       11
====================================

import { Component } from '@angular/core';

@Component({
  selector: 'app-slider',
  imports: [],
  templateUrl: './slider.component.html',
  styleUrl: './slider.component.scss',
})
export class SliderComponent {

}

====================================
FICHIER: ./src/app/guards/admin.guard.ts
Lignes:       22
====================================

import { inject } from '@angular/core';
import { CanActivateFn, Router, UrlTree } from '@angular/router';
import { AuthService } from '../services/auth.service';
import { map, take } from 'rxjs/operators';
import { Observable } from 'rxjs';

export const adminGuard: CanActivateFn = (route, state): Observable<boolean | UrlTree> => {
  const authService = inject(AuthService);
  const router = inject(Router);

  return authService.isAdmin().pipe(
    take(1), // On prend juste la valeur actuelle et on complète
    map(isAdmin => {
      if (isAdmin) {
        return true;
      } else {
        // Redirection vers la page de login si non autorisé
        return router.createUrlTree(['/admin-login']);
      }
    })
  );
};

====================================
FICHIER: ./src/app/models/event.ts
Lignes:       25
====================================

/**
 * Interface représentant un événement dans la collection 'events'.
 * Les images et vidéos sont stockées sur Supabase Storage.
 */
export interface Event {
  /** ID unique auto-généré par Firestore */
  eventId?: string;
  
  title: string;
  description: string;
  
  /** Date et heure de l'événement (Firestore Timestamp converti en Date) */
  date: Date;
  
  location: string;
  
  /** Tableau d'URLs publiques venant de Supabase */
  galleryImages: string[];
  
  /** Tableau d'URLs publiques venant de Supabase */
  galleryVideos: string[];
  
  createdAt: Date;
  updatedAt: Date;
}

====================================
FICHIER: ./src/app/models/feedback.ts
Lignes:       10
====================================

export type FeedbackStatus = 'pending' | 'approved' | 'rejected';

export interface Feedback {
  id?: string;
  name: string;
  message: string;
  rating: number; // 1 à 5
  status: FeedbackStatus;
  createdAt: Date;
}

====================================
FICHIER: ./src/app/models/gallery.ts
Lignes:       20
====================================

export type GalleryCategory = 'park' | 'events' | 'boats';

/**
 * Interface pour la collection 'galleries'.
 * Permet de grouper des médias par catégorie pour l'affichage.
 */
export interface Gallery {
  galleryId?: string;
  name: string;
  
  /** URLs Supabase */
  images: string[];
  
  /** URLs Supabase */
  videos: string[];
  
  category: GalleryCategory;
  
  createdAt: Date;
}

====================================
FICHIER: ./src/app/models/hero-slide.ts
Lignes:        7
====================================

export interface HeroSlide {
  id?: string;
  imageUrl: string;
  title: string;
  subtitle: string;
  createdAt: Date;
}

====================================
FICHIER: ./src/app/models/index.ts
Lignes:        6
====================================

export * from './event';
export * from './reservation';
export * from './settings';
export * from './gallery';
export * from './hero-slide';
export * from './feedback';

====================================
FICHIER: ./src/app/models/reservation.ts
Lignes:       40
====================================

export type ReservationType = 'boat' | 'park';
export type ReservationStatus = 'pending' | 'confirmed' | 'cancelled';

/**
 * Interface représentant une réservation dans la collection 'reservations'.
 * Gère les cas spécifiques pour les bateaux ou le parc.
 */
export interface Reservation {
  /** ID unique */
  reservationId?: string;
  
  type: ReservationType;
  
  // Informations client
  fullName: string;
  email: string;
  phone: string;
  
  // Détails temporels
  date: Date;
  time: string; // Format 'HH:mm'
  
  numberOfPeople: number;
  
  // Champs conditionnels selon le type
  /** Requis si type === 'boat' */
  boatType?: string;
  
  /** Requis si type === 'park' (ex: Mariage, Conférence) */
  eventType?: string;
  
  specialRequests?: string;
  
  status: ReservationStatus;
  
  /** Prix calculé total */
  totalPrice: number;
  
  createdAt: Date;
}

====================================
FICHIER: ./src/app/models/settings.ts
Lignes:       24
====================================

/**
 * Interface pour la collection 'settings'.
 */
export interface AppSettings {
  businessName: string;
  address: string;
  phone: string;
  email: string;
  facebookUrl: string;
  
  googleMapsEmbed: string;
  homePageDescription: string;
  parkDescription: string;

  // Config Header
  header?: {
    logoText: string;
    logoUrl?: string; // NOUVEAU: URL de l'image
    menuHome: string;
    menuEvents: string;
    menuReservations: string;
    menuContact: string;
  };
}

====================================
FICHIER: ./src/app/pages/accueil/accueil.component.ts
Lignes:       11
====================================

import { Component } from '@angular/core';

@Component({
  selector: 'app-accueil',
  imports: [],
  templateUrl: './accueil.component.html',
  styleUrl: './accueil.component.scss',
})
export class AccueilComponent {

}

====================================
FICHIER: ./src/app/pages/admin-login/admin-login.component.ts
Lignes:       62
====================================

import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { Router } from '@angular/router';
import { AuthService } from '../../services/auth.service';

@Component({
  selector: 'app-admin-login',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule],
  templateUrl: './admin-login.component.html'
})
export class AdminLoginComponent {
  private fb = inject(FormBuilder);
  private authService = inject(AuthService);
  private router = inject(Router);

  loginForm: FormGroup;
  errorMessage: string = '';
  isLoading: boolean = false;

  constructor() {
    this.loginForm = this.fb.group({
      email: ['', [Validators.required, Validators.email]],
      password: ['', [Validators.required, Validators.minLength(6)]]
    });
  }

  async onSubmit() {
    if (this.loginForm.invalid) return;

    this.isLoading = true;
    this.errorMessage = '';

    const { email, password } = this.loginForm.value;

    try {
      // 1. Tentative de connexion
      await this.authService.login(email, password);
      
      // 2. Vérification si c'est bien l'admin (Double sécurité)
      if (email === 'admin@gmail.com') {
        this.router.navigate(['/admin']);
      } else {
        this.errorMessage = "Accès refusé. Vous n'êtes pas administrateur.";
        await this.authService.logout();
      }
    } catch (error: any) {
      console.error('Login error', error);
      // Gestion basique des erreurs Firebase
      if (error.code === 'auth/invalid-credential' || error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') {
        this.errorMessage = "Email ou mot de passe incorrect.";
      } else if (error.code === 'auth/too-many-requests') {
        this.errorMessage = "Trop de tentatives. Veuillez réessayer plus tard.";
      } else {
        this.errorMessage = "Une erreur est survenue lors de la connexion.";
      }
    } finally {
      this.isLoading = false;
    }
  }
}

====================================
FICHIER: ./src/app/pages/contact/contact.component.ts
Lignes:       71
====================================

import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';
import { RouterModule } from '@angular/router'; // <--- AJOUT
import { Firestore, collection, addDoc, Timestamp } from '@angular/fire/firestore';

@Component({
  selector: 'app-contact',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule, RouterModule], // <--- AJOUT
  templateUrl: './contact.component.html',
  styleUrls: ['./contact.component.scss']
})
export class ContactComponent {
  private fb = inject(FormBuilder);
  private firestore = inject(Firestore);

  contactForm: FormGroup;
  isSubmitting = false;
  submitSuccess = false;

  constructor() {
    this.contactForm = this.fb.group({
      name: ['', Validators.required],
      email: ['', [Validators.required, Validators.email]],
      phone: [''], 
      subject: ['Question', Validators.required],
      message: ['', [Validators.required, Validators.minLength(10)]],
      acceptTerms: [false, Validators.requiredTrue]
    });
  }

  async onSubmit() {
    if (this.contactForm.invalid) {
      this.contactForm.markAllAsTouched();
      return;
    }

    this.isSubmitting = true;

    try {
      const formData = this.contactForm.value;
      const contactData = {
        name: formData.name,
        email: formData.email,
        phone: formData.phone || null,
        subject: formData.subject,
        message: formData.message,
        createdAt: Timestamp.now(),
        status: 'new'
      };

      const contactsRef = collection(this.firestore, 'contacts');
      await addDoc(contactsRef, contactData);

      this.submitSuccess = true;
      this.contactForm.reset({ subject: 'Question' });
      
    } catch (error) {
      console.error('Erreur lors de l\'envoi du message', error);
      alert('Une erreur est survenue. Veuillez réessayer.');
    } finally {
      this.isSubmitting = false;
    }
  }

  isFieldInvalid(fieldName: string): boolean {
    const field = this.contactForm.get(fieldName);
    return field ? (field.invalid && (field.dirty || field.touched)) : false;
  }
}

====================================
FICHIER: ./src/app/pages/evenements/evenements.component.ts
Lignes:      156
====================================

import { Component, OnInit, inject, HostListener } from '@angular/core';
import { CommonModule, DatePipe } from '@angular/common';
import { RouterModule } from '@angular/router';
import { FirestoreService } from '../../services/firestore.service';
import { Event } from '../../models';

type FilterType = 'all' | 'upcoming' | 'past';

interface LightboxItem {
  type: 'image' | 'video';
  url: string;
}

@Component({
  selector: 'app-evenements',
  standalone: true,
  imports: [CommonModule, DatePipe, RouterModule],
  templateUrl: './evenements.component.html',
  styleUrls: ['./evenements.component.scss']
})
export class EvenementsComponent implements OnInit {
  private firestoreService = inject(FirestoreService);

  // Données
  allEvents: Event[] = [];
  filteredEvents: Event[] = [];
  currentFilter: FilterType = 'all';
  
  isLoading = true;
  selectedEvent: Event | null = null;
  isModalOpen = false;

  // --- GALERIE JS STATE ---
  isLightboxOpen = false;
  lightboxItems: LightboxItem[] = [];
  lightboxIndex = 0;

  constructor() {}

  ngOnInit(): void {
    this.firestoreService.getEvents().subscribe({
      next: (events) => {
        this.allEvents = events;
        this.applyFilter('all'); 
        this.isLoading = false;
      },
      error: (err) => {
        console.error('Erreur', err);
        this.isLoading = false;
      }
    });
  }

  applyFilter(filter: FilterType): void {
    this.currentFilter = filter;
    const now = new Date();
    now.setHours(0, 0, 0, 0);

    if (filter === 'all') {
      this.filteredEvents = [...this.allEvents];
    } else if (filter === 'upcoming') {
      this.filteredEvents = this.allEvents.filter(e => {
        const d = e.date instanceof Date ? e.date : new Date(e.date);
        return d >= now;
      });
      this.filteredEvents.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());
    } else if (filter === 'past') {
      this.filteredEvents = this.allEvents.filter(e => {
        const d = e.date instanceof Date ? e.date : new Date(e.date);
        return d < now;
      });
      this.filteredEvents.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    }
  }

  // --- MODALE DÉTAILS ---
  openModal(event: Event): void {
    this.selectedEvent = event;
    this.isModalOpen = true;
    document.body.style.overflow = 'hidden';
  }

  closeModal(): void {
    this.isModalOpen = false;
    this.selectedEvent = null;
    document.body.style.overflow = 'auto';
  }

  // --- GALERIE PLEIN ÉCRAN (JS STYLE) ---
  openGallery(index: number, images: string[] = [], videos: string[] = []) {
    // 1. On construit une liste propre de tous les médias
    this.lightboxItems = [
      ...images.map(url => ({ type: 'image' as const, url })),
      ...videos.map(url => ({ type: 'video' as const, url }))
    ];
    
    // 2. On définit l'index de départ
    this.lightboxIndex = index;
    
    // 3. On ouvre la galerie par dessus le popup
    this.isLightboxOpen = true;
  }

  closeGallery() {
    this.isLightboxOpen = false;
    this.lightboxItems = [];
  }

  nextMedia(e?: any) {
    if(e) e.stopPropagation();
    if (this.lightboxIndex < this.lightboxItems.length - 1) {
      this.lightboxIndex++;
    } else {
      this.lightboxIndex = 0; // Boucle
    }
  }

  prevMedia(e?: any) {
    if(e) e.stopPropagation();
    if (this.lightboxIndex > 0) {
      this.lightboxIndex--;
    } else {
      this.lightboxIndex = this.lightboxItems.length - 1; // Boucle
    }
  }

  // --- HELPERS ---
  getCoverImage(event: Event): string {
    if (event.galleryImages && event.galleryImages.length > 0) return event.galleryImages[0];
    return 'https://via.placeholder.com/800x600?text=Kyranis+Park';
  }

  isEventPast(event: Event): boolean {
    const now = new Date();
    now.setHours(0, 0, 0, 0);
    const d = event.date instanceof Date ? event.date : new Date(event.date);
    return d < now;
  }

  // Navigation Clavier
  @HostListener('window:keydown', ['$event'])
  handleKeyboardEvent(event: KeyboardEvent) {
    // Si la galerie est ouverte, elle prend le focus
    if (this.isLightboxOpen) {
      if (event.key === 'Escape') this.closeGallery();
      if (event.key === 'ArrowRight') this.nextMedia();
      if (event.key === 'ArrowLeft') this.prevMedia();
      return; 
    }

    // Sinon c'est le popup détails
    if (this.isModalOpen && event.key === 'Escape') {
      this.closeModal();
    }
  }
}

====================================
FICHIER: ./src/app/pages/home/home.component.ts
Lignes:      187
====================================

import { Component, OnInit, inject, HostListener } from '@angular/core';
import { CommonModule, DatePipe } from '@angular/common';
import { RouterModule } from '@angular/router';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { Observable } from 'rxjs';
import { map } from 'rxjs/operators';

import { FirestoreService } from '../../services/firestore.service';
import { AppSettings, Gallery, Event, Feedback } from '../../models';
import { HeroSliderComponent } from '../../components/hero-slider/hero-slider.component';

// Interface locale pour la navigation unifiée
interface LightboxItem {
  type: 'image' | 'video';
  url: string;
}

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [CommonModule, RouterModule, HeroSliderComponent, DatePipe, ReactiveFormsModule],
  templateUrl: './home.component.html',
  styleUrls: ['./home.component.scss']
})
export class HomeComponent implements OnInit {
  private firestoreService = inject(FirestoreService);
  private fb = inject(FormBuilder);

  // Données principales
  settings$: Observable<AppSettings> = this.firestoreService.getSettings();
  parkGalleries$: Observable<Gallery[]> = this.firestoreService.getGalleries('park');
  upcomingEvents$: Observable<Event[]> = this.firestoreService.getEvents().pipe(
    map(events => {
      const now = new Date();
      now.setHours(0, 0, 0, 0);
      return events
        .filter(e => {
          const d = e.date instanceof Date ? e.date : new Date(e.date);
          return d >= now;
        })
        .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())
        .slice(0, 3);
    })
  );

  // AVIS CLIENTS
  approvedFeedbacks$: Observable<Feedback[]> = this.firestoreService.getApprovedFeedbacks(3);

  // FORMULAIRE AVIS
  isFeedbackModalOpen = false;
  feedbackForm: FormGroup;
  isSubmittingFeedback = false;
  captchaA = 0;
  captchaB = 0;
  captchaAnswer = 0;
  
  stars: number[] = [1, 2, 3, 4, 5];

  // --- LOGIQUE LIGHTBOX PRO (Unifiée) ---
  isLightboxOpen = false;       // État ouverture
  lightboxItems: LightboxItem[] = []; // Liste de lecture
  lightboxIndex = 0;            // Position actuelle

  constructor() {
    this.feedbackForm = this.fb.group({
      name: ['', [Validators.required, Validators.minLength(3)]],
      message: ['', [Validators.required, Validators.minLength(10)]],
      rating: [5, Validators.required],
      captcha: ['', Validators.required]
    });
  }

  ngOnInit(): void {
    this.generateCaptcha();
  }

  // --- FEEDBACK ---
  generateCaptcha() {
    this.captchaA = Math.floor(Math.random() * 10) + 1;
    this.captchaB = Math.floor(Math.random() * 10) + 1;
    this.captchaAnswer = this.captchaA + this.captchaB;
    this.feedbackForm.get('captcha')?.setValue('');
  }

  openFeedbackModal() {
    this.isFeedbackModalOpen = true;
    this.generateCaptcha();
  }

  closeFeedbackModal() {
    this.isFeedbackModalOpen = false;
    this.feedbackForm.reset({ rating: 5 });
  }

  setRating(rating: number) {
    this.feedbackForm.patchValue({ rating: rating });
  }

  async submitFeedback() {
    if (this.feedbackForm.invalid) {
      this.feedbackForm.markAllAsTouched();
      return;
    }
    const userAnswer = parseInt(this.feedbackForm.get('captcha')?.value, 10);
    if (userAnswer !== this.captchaAnswer) {
      alert(`Calcul incorrect.`);
      return;
    }
    this.isSubmittingFeedback = true;
    const { name, message, rating } = this.feedbackForm.value;
    try {
      await this.firestoreService.addFeedback({
        name,
        message,
        rating: parseInt(rating, 10),
      });
      alert('Merci ! Votre avis a été envoyé et sera publié après validation.');
      this.closeFeedbackModal();
    } catch (e) {
      console.error(e);
      alert('Une erreur est survenue.');
    } finally {
      this.isSubmittingFeedback = false;
    }
  }

  isFieldInvalid(field: string) {
    const control = this.feedbackForm.get(field);
    return control?.invalid && (control?.dirty || control?.touched);
  }

  // --- GALERIE LIGHTBOX (LOGIQUE CORRIGÉE) ---

  openGallery(gallery: Gallery) {
    // 1. On transforme TOUT (images + vidéos) en une liste 'lightboxItems'
    this.lightboxItems = [
      ...(gallery.images || []).map(url => ({ type: 'image' as const, url })),
      ...(gallery.videos || []).map(url => ({ type: 'video' as const, url }))
    ];

    if (this.lightboxItems.length === 0) return;

    // 2. On ouvre au début
    this.lightboxIndex = 0;
    this.isLightboxOpen = true;
    document.body.style.overflow = 'hidden';
  }

  closeLightbox() {
    this.isLightboxOpen = false;
    this.lightboxItems = [];
    document.body.style.overflow = 'auto';
  }

  nextMedia(e?: any) {
    if(e) e.stopPropagation();
    if (this.lightboxIndex < this.lightboxItems.length - 1) {
      this.lightboxIndex++;
    } else {
      this.lightboxIndex = 0; // Boucle
    }
  }

  prevMedia(e?: any) {
    if(e) e.stopPropagation();
    if (this.lightboxIndex > 0) {
      this.lightboxIndex--;
    } else {
      this.lightboxIndex = this.lightboxItems.length - 1; // Boucle
    }
  }

  // --- HELPERS ---
  getCoverImage(event: Event): string {
    if (event.galleryImages && event.galleryImages.length > 0) return event.galleryImages[0];
    return 'https://via.placeholder.com/800x600?text=Kyranis+Park';
  }

  @HostListener('window:keydown', ['$event'])
  handleKeyboardEvent(event: KeyboardEvent) {
    if (this.isLightboxOpen) {
      if (event.key === 'Escape') this.closeLightbox();
      else if (event.key === 'ArrowRight') this.nextMedia();
      else if (event.key === 'ArrowLeft') this.prevMedia();
    }
  }
}

====================================
FICHIER: ./src/app/pages/page-not-found/page-not-found.component.ts
Lignes:       20
====================================

import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';

@Component({
  selector: 'app-page-not-found',
  standalone: true,
  imports: [CommonModule, RouterModule],
  template: `
    <div class="min-h-screen flex flex-col items-center justify-center bg-gray-100 px-4">
      <h1 class="text-9xl font-extrabold text-gray-800">404</h1>
      <p class="text-2xl font-semibold text-gray-600 mt-4">Oups ! Page introuvable.</p>
      <p class="text-gray-500 mt-2 mb-8 text-center">La page que vous recherchez semble avoir pris le large vers Kerkennah sans nous.</p>
      <a routerLink="/" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg font-medium">
        Retour à l'accueil
      </a>
    </div>
  `
})
export class PageNotFoundComponent {}

====================================
FICHIER: ./src/app/pages/reservations/reservations.component.ts
Lignes:      167
====================================

import { Component, OnInit, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { Router, ActivatedRoute, RouterModule } from '@angular/router'; // Ajout RouterModule
import { FirestoreService } from '../../services/firestore.service';
import { Reservation } from '../../models';

@Component({
  selector: 'app-reservations',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule, RouterModule], // Ajout dans les imports
  templateUrl: './reservations.component.html',
  styleUrls: ['./reservations.component.scss']
})
export class ReservationsComponent implements OnInit {
  private fb = inject(FormBuilder);
  private firestoreService = inject(FirestoreService);
  private router = inject(Router);
  private route = inject(ActivatedRoute);

  // État
  activeTab: 'boat' | 'park' = 'boat';
  isSubmitting = false;
  submitSuccess = false;
  estimatedPrice = 0;
  minDate: string = '';
  
  // Formulaires
  boatForm!: FormGroup;
  parkForm!: FormGroup;

  // Données de tarification (Mock)
  boatPrices: any = {
    'flouka': 150,
    'speed_boat': 400,
    'catamaran': 800,
    'yacht': 2500
  };
  eventPrices: any = {
    'birthday': 500,
    'marriage': 2000,
    'conference': 1000,
    'other': 500
  };

  constructor() {
    const today = new Date();
    this.minDate = today.toISOString().split('T')[0];
  }

  ngOnInit(): void {
    this.initForms();
    this.route.queryParams.subscribe(params => {
      if (params['type'] === 'park') {
        this.activeTab = 'park';
      } else {
        this.activeTab = 'boat';
      }
      this.calculatePrice();
    });

    this.boatForm.valueChanges.subscribe(() => this.calculatePrice());
    this.parkForm.valueChanges.subscribe(() => this.calculatePrice());
  }

  initForms() {
    // --- FORMULAIRE BATEAU ---
    this.boatForm = this.fb.group({
      fullName: ['', [Validators.required, Validators.minLength(3)]],
      email: ['', [Validators.required, Validators.email]],
      phone: ['', [Validators.required, Validators.pattern(/^\+216[0-9]{8}$/)]], 
      date: ['', [Validators.required]],
      time: ['', [Validators.required]],
      numberOfPeople: [1, [Validators.required, Validators.min(1), Validators.max(50)]],
      boatType: ['flouka', Validators.required],
      specialRequests: [''],
      acceptTerms: [false, Validators.requiredTrue]
    });

    // --- FORMULAIRE ESPACE PRIVÉ ---
    this.parkForm = this.fb.group({
      fullName: ['', [Validators.required, Validators.minLength(3)]],
      email: ['', [Validators.required, Validators.email]],
      phone: ['', [Validators.required, Validators.pattern(/^\+216[0-9]{8}$/)]],
      date: ['', [Validators.required]],
      eventType: ['birthday', Validators.required],
      duration: ['half_day', Validators.required],
      menuIncluded: [false],
      numberOfPeople: [20, [Validators.required, Validators.min(10), Validators.max(200)]],
      specialRequests: [''],
      acceptTerms: [false, Validators.requiredTrue]
    });
  }

  switchTab(tab: 'boat' | 'park') {
    this.activeTab = tab;
    this.submitSuccess = false;
    this.calculatePrice();
  }

  calculatePrice() {
    if (this.activeTab === 'boat') {
      const type = this.boatForm.get('boatType')?.value;
      const basePrice = this.boatPrices[type] || 0;
      this.estimatedPrice = basePrice;
    } else {
      const type = this.parkForm.get('eventType')?.value;
      const duration = this.parkForm.get('duration')?.value;
      const menu = this.parkForm.get('menuIncluded')?.value;
      const pax = this.parkForm.get('numberOfPeople')?.value || 0;

      let price = this.eventPrices[type] || 0;
      if (duration === 'full_day') price *= 1.5;
      if (menu) price += (pax * 50);
      this.estimatedPrice = price;
    }
  }

  async onSubmit() {
    this.isSubmitting = true;
    const currentForm = this.activeTab === 'boat' ? this.boatForm : this.parkForm;
    
    if (currentForm.invalid) {
      this.isSubmitting = false;
      currentForm.markAllAsTouched();
      return;
    }

    const formValues = currentForm.value;
    const reservationData: Reservation = {
      type: this.activeTab,
      fullName: formValues.fullName,
      email: formValues.email,
      phone: formValues.phone,
      date: new Date(formValues.date),
      time: this.activeTab === 'boat' ? formValues.time : '00:00',
      numberOfPeople: formValues.numberOfPeople,
      
      boatType: this.activeTab === 'boat' ? formValues.boatType : null,
      eventType: this.activeTab === 'park' ? formValues.eventType : null,
      
      specialRequests: formValues.specialRequests,
      status: 'pending',
      totalPrice: this.estimatedPrice,
      createdAt: new Date()
    };

    try {
      await this.firestoreService.addReservation(reservationData);
      
      this.isSubmitting = false;
      this.submitSuccess = true;
      currentForm.reset();
      window.scrollTo(0, 0);
    } catch (error) {
      console.error('Erreur réservation', error);
      this.isSubmitting = false;
      alert("Une erreur est survenue. Veuillez réessayer.");
    }
  }

  isFieldInvalid(fieldName: string): boolean {
    const form = this.activeTab === 'boat' ? this.boatForm : this.parkForm;
    const field = form.get(fieldName);
    return field ? (field.invalid && (field.dirty || field.touched)) : false;
  }
}

====================================
FICHIER: ./src/app/services/auth.service.ts
Lignes:       49
====================================

import { Injectable, inject } from '@angular/core';
import { Auth, signInWithEmailAndPassword, signOut, authState, User, UserCredential } from '@angular/fire/auth';
import { Observable, from, map } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class AuthService {
  private auth: Auth = inject(Auth);

  // Flux de l'utilisateur courant (null si déconnecté)
  user$: Observable<User | null> = authState(this.auth);

  constructor() {}

  /**
   * Connexion via Email/Password
   */
  login(email: string, password: string): Promise<UserCredential> {
    return signInWithEmailAndPassword(this.auth, email, password);
  }

  /**
   * Déconnexion
   */
  logout(): Promise<void> {
    return signOut(this.auth);
  }

  /**
   * Récupère l'utilisateur courant
   */
  getCurrentUser(): Observable<User | null> {
    return this.user$;
  }

  /**
   * Vérifie si l'utilisateur courant est l'admin défini
   */
  isAdmin(): Observable<boolean> {
    return this.user$.pipe(
      map(user => {
        if (!user) return false;
        // Vérification stricte de l'email
        return user.email === 'admin@gmail.com';
      })
    );
  }
}

====================================
FICHIER: ./src/app/services/auth.ts
Lignes:        8
====================================

import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class Auth {
  
}

====================================
FICHIER: ./src/app/services/email.service.ts
Lignes:       76
====================================

import { Injectable, inject } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { environment } from '../../environments/environment';
import { Reservation } from '../models';
import { firstValueFrom } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class EmailService {
  private http = inject(HttpClient);
  private apiUrl = `${environment.api.baseUrl}${environment.api.endpoints.sendEmail}`;

  constructor() {}

  /**
   * Envoi générique vers le serveur Node.js
   */
  private async sendEmail(payload: any): Promise<void> {
    try {
      // On convertit l'Observable en Promise pour faciliter l'async/await
      await firstValueFrom(this.http.post(this.apiUrl, payload));
      console.log('Email envoyé avec succès via Node.js');
    } catch (error) {
      console.error('Erreur envoi email:', error);
      throw error;
    }
  }

  /**
   * 1. Confirmation Client
   */
  async sendReservationConfirmation(reservation: Reservation): Promise<void> {
    await this.sendEmail({
      type: 'confirmation',
      to: reservation.email,
      data: {
        name: reservation.fullName,
        date: new Date(reservation.date).toLocaleDateString('fr-FR'),
        time: reservation.time,
        type: reservation.type === 'boat' ? 'Sortie Bateau' : 'Espace Privé',
        price: reservation.totalPrice
      }
    });
  }

  /**
   * 2. Notification Admin
   */
  async sendAdminNotification(reservation: Reservation): Promise<void> {
    await this.sendEmail({
      type: 'admin_notification',
      // L'email admin est géré côté serveur ou via env, ou passé ici
      data: {
        clientName: reservation.fullName,
        phone: reservation.phone,
        date: new Date(reservation.date).toLocaleDateString('fr-FR'),
        status: reservation.status
      }
    });
  }

  /**
   * 3. Réponse Contact
   */
  async sendContactReply(email: string, name: string, message: string): Promise<void> {
    await this.sendEmail({
      type: 'contact_reply',
      to: email,
      data: {
        name: name,
        originalMessage: message
      }
    });
  }
}

====================================
FICHIER: ./src/app/services/firebase.service.ts
Lignes:       78
====================================

import { Injectable, inject } from '@angular/core';
import { 
  Auth, 
  signInWithEmailAndPassword, 
  signOut, 
  user, 
  User, 
  UserCredential 
} from '@angular/fire/auth';
import { Firestore, doc, getDoc } from '@angular/fire/firestore';
import { Observable, from, of } from 'rxjs';
import { map, switchMap, catchError } from 'rxjs/operators';
import { FirebaseApp } from '@angular/fire/app';

@Injectable({
  providedIn: 'root'
})
export class FirebaseService {
  // Injection des dépendances (Angular 18 style)
  private auth: Auth = inject(Auth);
  private firestore: Firestore = inject(Firestore);
  private firebaseApp: FirebaseApp = inject(FirebaseApp);

  user$: Observable<User | null> = user(this.auth);

  constructor() {}

  /**
   * Retourne l'instance de l'application Firebase initialisée.
   * Note: L'initialisation réelle se fait généralement dans app.config.ts
   */
  initializeApp(): FirebaseApp {
    return this.firebaseApp;
  }

  /**
   * Connexion utilisateur
   */
  login(email: string, password: string): Observable<UserCredential> {
    return from(signInWithEmailAndPassword(this.auth, email, password));
  }

  /**
   * Déconnexion
   */
  logout(): Observable<void> {
    return from(signOut(this.auth));
  }

  /**
   * Récupère l'utilisateur courant sous forme d'Observable
   */
  getCurrentUser(): Observable<User | null> {
    return this.user$;
  }

  /**
   * Vérifie si l'utilisateur a un rôle admin.
   * Cette implémentation vérifie une collection 'users' dans Firestore
   * pour un champ 'role' === 'admin'.
   */
  checkAdminAccess(): Observable<boolean> {
    return this.user$.pipe(
      switchMap((u: User | null) => {
        if (!u) return of(false);
        
        const userDocRef = doc(this.firestore, `users/${u.uid}`);
        return from(getDoc(userDocRef)).pipe(
          map(snapshot => {
            const data = snapshot.data();
            return data ? data['role'] === 'admin' : false;
          }),
          catchError(() => of(false))
        );
      })
    );
  }
}

====================================
FICHIER: ./src/app/services/firebase.ts
Lignes:        8
====================================

import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class Firebase {
  
}

====================================
FICHIER: ./src/app/services/firestore.service.ts
Lignes:      225
====================================

import { Injectable, inject } from '@angular/core';
import { 
  Firestore, 
  collection, 
  collectionData, 
  doc, 
  docData, 
  addDoc, 
  updateDoc, 
  deleteDoc, 
  setDoc,
  query, 
  where, 
  orderBy, 
  limit,
  Timestamp 
} from '@angular/fire/firestore';
import { Observable, map } from 'rxjs';
import { 
  Event, 
  Reservation, 
  AppSettings, 
  Gallery, 
  ReservationStatus,
  HeroSlide,
  Feedback,
  FeedbackStatus
} from '../models';

@Injectable({
  providedIn: 'root'
})
export class FirestoreService {
  private firestore: Firestore = inject(Firestore);

  // --- FEEDBACKS (NOUVEAU) ---

  // Pour l'Admin : Voir tous les feedbacks
  getAllFeedbacks(): Observable<Feedback[]> {
    const ref = collection(this.firestore, 'feedbacks');
    const q = query(ref, orderBy('createdAt', 'desc'));
    return collectionData(q, { idField: 'id' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<Feedback[]>;
  }

  // Pour le Site Public : Voir seulement les approuvés
  getApprovedFeedbacks(limitCount: number = 3): Observable<Feedback[]> {
    const ref = collection(this.firestore, 'feedbacks');
    const q = query(
      ref, 
      where('status', '==', 'approved'), 
      orderBy('createdAt', 'desc'), 
      limit(limitCount)
    );
    return collectionData(q, { idField: 'id' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<Feedback[]>;
  }

  // Ajouter un avis (Statut pending par défaut)
  addFeedback(feedback: Partial<Feedback>): Promise<void> {
    const ref = collection(this.firestore, 'feedbacks');
    return addDoc(ref, {
      ...feedback,
      status: 'pending',
      createdAt: Timestamp.now()
    }).then(() => undefined);
  }

  // Modération (Approuver/Rejeter)
  updateFeedbackStatus(id: string, status: FeedbackStatus): Promise<void> {
    const docRef = doc(this.firestore, `feedbacks/${id}`);
    return updateDoc(docRef, { status });
  }

  deleteFeedback(id: string): Promise<void> {
    const docRef = doc(this.firestore, `feedbacks/${id}`);
    return deleteDoc(docRef);
  }

  // --- HERO SLIDER ---
  getHeroSlides(): Observable<HeroSlide[]> {
    const ref = collection(this.firestore, 'hero_slides');
    const q = query(ref, orderBy('createdAt', 'desc'));
    return collectionData(q, { idField: 'id' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<HeroSlide[]>;
  }

  addHeroSlide(slide: HeroSlide): Promise<void> {
    const ref = collection(this.firestore, 'hero_slides');
    return addDoc(ref, {
      ...slide,
      createdAt: Timestamp.now()
    }).then(() => undefined);
  }

  deleteHeroSlide(id: string): Promise<void> {
    const docRef = doc(this.firestore, `hero_slides/${id}`);
    return deleteDoc(docRef);
  }

  // --- EVENTS ---
  getEvents(): Observable<Event[]> {
    const eventsRef = collection(this.firestore, 'events');
    const q = query(eventsRef, orderBy('date', 'desc'));
    return collectionData(q, { idField: 'eventId' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<Event[]>;
  }

  getEventById(eventId: string): Observable<Event> {
    const docRef = doc(this.firestore, `events/${eventId}`);
    return docData(docRef, { idField: 'eventId' }).pipe(
      map((doc: any) => this.mapDateFields(doc))
    ) as Observable<Event>;
  }

  addEvent(event: Event): Promise<void> {
    const eventsRef = collection(this.firestore, 'events');
    return addDoc(eventsRef, {
      ...event,
      createdAt: Timestamp.now(),
      updatedAt: Timestamp.now()
    }).then(() => undefined);
  }

  updateEvent(eventId: string, data: Partial<Event>): Promise<void> {
    const docRef = doc(this.firestore, `events/${eventId}`);
    return updateDoc(docRef, {
      ...data,
      updatedAt: Timestamp.now()
    });
  }

  deleteEvent(eventId: string): Promise<void> {
    const docRef = doc(this.firestore, `events/${eventId}`);
    return deleteDoc(docRef);
  }

  // --- RESERVATIONS ---
  getReservations(type?: 'boat' | 'park'): Observable<Reservation[]> {
    const ref = collection(this.firestore, 'reservations');
    let q = query(ref, orderBy('createdAt', 'desc'));
    if (type) {
      q = query(ref, where('type', '==', type), orderBy('createdAt', 'desc'));
    }
    return collectionData(q, { idField: 'reservationId' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<Reservation[]>;
  }

  addReservation(reservation: Reservation): Promise<void> {
    const ref = collection(this.firestore, 'reservations');
    return addDoc(ref, {
      ...reservation,
      createdAt: Timestamp.now(),
      status: 'pending'
    }).then(() => undefined);
  }

  updateReservation(reservationId: string, status: ReservationStatus): Promise<void> {
    const docRef = doc(this.firestore, `reservations/${reservationId}`);
    return updateDoc(docRef, { status });
  }

  deleteReservation(reservationId: string): Promise<void> {
    const docRef = doc(this.firestore, `reservations/${reservationId}`);
    return deleteDoc(docRef);
  }

  // --- SETTINGS ---
  getSettings(): Observable<AppSettings> {
    const docRef = doc(this.firestore, 'settings/main');
    return docData(docRef) as Observable<AppSettings>;
  }

  updateSettings(data: Partial<AppSettings>): Promise<void> {
    const docRef = doc(this.firestore, 'settings/main');
    return setDoc(docRef, data, { merge: true });
  }

  // --- GALLERIES ---
  getGalleries(category?: 'park' | 'events' | 'boats'): Observable<Gallery[]> {
    const ref = collection(this.firestore, 'galleries');
    let q = query(ref, orderBy('createdAt', 'desc'));
    if (category) {
      q = query(ref, where('category', '==', category), orderBy('createdAt', 'desc'));
    }
    return collectionData(q, { idField: 'galleryId' }).pipe(
      map((documents: any[]) => documents.map(doc => this.mapDateFields(doc)))
    ) as Observable<Gallery[]>;
  }

  addGallery(gallery: Gallery): Promise<void> {
    const ref = collection(this.firestore, 'galleries');
    return addDoc(ref, {
      ...gallery,
      createdAt: Timestamp.now()
    }).then(() => undefined);
  }

  updateGallery(galleryId: string, data: Partial<Gallery>): Promise<void> {
    const docRef = doc(this.firestore, `galleries/${galleryId}`);
    return updateDoc(docRef, data);
  }

  deleteGallery(galleryId: string): Promise<void> {
    const docRef = doc(this.firestore, `galleries/${galleryId}`);
    return deleteDoc(docRef);
  }

  // --- HELPERS ---
  private mapDateFields(data: any): any {
    const converted = { ...data };
    const dateFields = ['date', 'createdAt', 'updatedAt'];
    dateFields.forEach(field => {
      if (converted[field] && typeof converted[field].toDate === 'function') {
        converted[field] = converted[field].toDate();
      }
    });
    return converted;
  }
}

====================================
FICHIER: ./src/app/services/seo.service.ts
Lignes:       51
====================================

import { Injectable, inject } from '@angular/core';
import { Meta, Title } from '@angular/platform-browser';
import { Router, NavigationEnd } from '@angular/router';
import { filter } from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class SeoService {
  private titleService = inject(Title);
  private metaService = inject(Meta);
  private router = inject(Router);

  constructor() {
    // Suivre la navigation pour mettre à jour les métadonnées si nécessaire
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd)
    ).subscribe(() => {
      // Logique par défaut ou réinitialisation ici si besoin
    });
  }

  /**
   * Met à jour les balises SEO pour une page donnée
   */
  updateMetaTags(config: { title: string, description: string, image?: string }) {
    // Titre
    const finalTitle = `${config.title} | Kyranis Park`;
    this.titleService.setTitle(finalTitle);

    // Description
    this.metaService.updateTag({ name: 'description', content: config.description });

    // Open Graph (Facebook, LinkedIn)
    this.metaService.updateTag({ property: 'og:title', content: finalTitle });
    this.metaService.updateTag({ property: 'og:description', content: config.description });
    
    if (config.image) {
      this.metaService.updateTag({ property: 'og:image', content: config.image });
    }

    // Twitter Card
    this.metaService.updateTag({ name: 'twitter:card', content: 'summary_large_image' });
    this.metaService.updateTag({ name: 'twitter:title', content: finalTitle });
    this.metaService.updateTag({ name: 'twitter:description', content: config.description });
    
    if (config.image) {
      this.metaService.updateTag({ name: 'twitter:image', content: config.image });
    }
  }
}

====================================
FICHIER: ./src/app/services/supabase.service.ts
Lignes:      115
====================================

import { Injectable } from '@angular/core';
import { createClient, SupabaseClient } from '@supabase/supabase-js';
import { environment } from '../../environments/environment';

export interface FileUploadResponse {
  path: string;
  url: string;
}

@Injectable({
  providedIn: 'root'
})
export class SupabaseService {
  private supabase: SupabaseClient;
  private readonly BUCKET_NAME = environment.supabase.bucket;

  constructor() {
    this.supabase = createClient(environment.supabase.url, environment.supabase.key);
  }

  /**
   * Upload d'une image dans un dossier spécifique
   */
  async uploadImage(file: File, folder: string = 'images'): Promise<FileUploadResponse> {
    const filePath = `${folder}/${Date.now()}-${file.name}`;

    const { data, error } = await this.supabase.storage
      .from(this.BUCKET_NAME)
      .upload(filePath, file, {
        cacheControl: '3600',
        upsert: false,
        contentType: file.type
      });

    if (error) {
      throw error;
    }

    return {
      path: data.path,
      url: this.getFileUrl(data.path)
    };
  }

  /**
   * Upload d'une vidéo
   */
  async uploadVideo(file: File, folder: string = 'videos'): Promise<FileUploadResponse> {
    const filePath = `${folder}/${Date.now()}-${file.name}`;
    
    const { data, error } = await this.supabase.storage
      .from(this.BUCKET_NAME)
      .upload(filePath, file, {
        cacheControl: '3600',
        upsert: false,
        contentType: file.type
      });

    if (error) {
      throw error;
    }

    return {
      path: data.path,
      url: this.getFileUrl(data.path)
    };
  }

  /**
   * Supprime un fichier via son chemin interne
   */
  async deleteFile(path: string): Promise<void> {
    const { error } = await this.supabase.storage
      .from(this.BUCKET_NAME)
      .remove([path]);

    if (error) {
      throw error;
    }
  }

  /**
   * Tente de supprimer un fichier à partir de son URL publique
   * Extrait le chemin relatif à partir de l'URL.
   */
  async deleteFileByUrl(url: string): Promise<void> {
    try {
      // Structure URL typique: .../storage/v1/object/public/BUCKET_NAME/folder/file.jpg
      const bucketMarker = `/public/${this.BUCKET_NAME}/`;
      const parts = url.split(bucketMarker);
      
      if (parts.length === 2) {
        const path = parts[1];
        // Décoder l'URL au cas où il y aurait des espaces (%20)
        await this.deleteFile(decodeURIComponent(path));
      } else {
        console.warn('Impossible d\'extraire le chemin Supabase de l\'URL:', url);
      }
    } catch (e) {
      console.error('Erreur lors de la suppression Supabase:', e);
      throw e;
    }
  }

  /**
   * Obtient l'URL publique d'un fichier
   */
  getFileUrl(path: string): string {
    const { data } = this.supabase.storage
      .from(this.BUCKET_NAME)
      .getPublicUrl(path);

    return data.publicUrl;
  }
}

====================================
FICHIER: ./src/app/services/supabase.ts
Lignes:        8
====================================

import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class Supabase {
  
}

====================================
FICHIER: ./src/environments/environment.development.ts
Lignes:       18
====================================

export const environment = {
  production: false,
  firebase: {
    apiKey: "",
    authDomain: "",
    projectId: "",
    storageBucket: "",
    messagingSenderId: "",
    appId: ""
  },
  supabase: {
    url: "",
    key: ""
  },
  googleMaps: {
    apiKey: ""
  }
};

====================================
FICHIER: ./src/environments/environment.prod.ts
Lignes:       44
====================================

export const environment = {
  production: true,
  
  app: {
    name: 'Kyranis Park',
    version: '1.0.0',
    adminEmail: 'admin@gmail.com',
    currency: 'TND',
    contactPhone: '+216 28 417 822',
    socials: {
      facebook: 'https://facebook.com/kyranispark',
      instagram: 'https://instagram.com/kyranispark'
    }
  },

  api: {
    baseUrl: 'https://api.kyranispark.tn',
    endpoints: {
      sendEmail: '/send-email',
      processPayment: '/process-payment'
    }
  },

  firebase: {
    apiKey: "AIzaSyBuvMf5s6xOvsbN44S2-EN8V_lAsr-vEYM",
    authDomain: "kyranisparck.firebaseapp.com",
    projectId: "kyranisparck",
    storageBucket: "kyranisparck.firebasestorage.app",
    messagingSenderId: "1088401257320",
    appId: "1:1088401257320:web:88b31ad76de2b2b3d89cdd",
    measurementId: "G-QMPCC1G74D"
  },

  supabase: {
    url: "https://[project].supabase.co",
    key: "sb_publishable_8_tG9l4XOlF4WbHAPo-gAg__mixJCel",
    bucket: "kyranispark-media"
  },

  googleMaps: {
    apiKey: "", 
    defaultCenter: { lat: 34.7406, lng: 11.2333 }
  }
};

====================================
FICHIER: ./src/environments/environment.ts
Lignes:       27
====================================

export const environment = {
  production: false,
  
  // URL de VOTRE serveur Node.js (pas Firebase)
  api: {
    baseUrl: 'http://localhost:3000', 
    endpoints: {
      sendEmail: '/send-email'
    }
  },

  firebase: {
    apiKey: "AIzaSyBuvMf5s6xOvsbN44S2-EN8V_lAsr-vEYM",
    authDomain: "kyranisparck.firebaseapp.com",
    databaseURL: "https://kyranisparck-default-rtdb.firebaseio.com",
    projectId: "kyranisparck",
    storageBucket: "kyranisparck.firebasestorage.app",
    messagingSenderId: "1088401257320",
    appId: "1:1088401257320:web:88b31ad76de2b2b3d89cdd",
    measurementId: "G-QMPCC1G74D"
  },
  supabase: {
    url: 'https://qailxxltsofkgtfkgzhv.supabase.co',
    key: "sb_secret_88sjaxofO-GqnWq1Hc4pPQ_lOvRbUBy",
    bucket: "propositionspourkerkennah"
  }
};

====================================
FICHIER: ./src/main.ts
Lignes:        6
====================================

import { bootstrapApplication } from '@angular/platform-browser';
import { appConfig } from './app/app.config';
import { App } from './app/app';

bootstrapApplication(App, appConfig)
  .catch((err) => console.error(err));

====================================
FICHIER: ./src/app/app.component.html
Lignes:        1
====================================

<p>app works!</p>

====================================
FICHIER: ./src/app/app.html
Lignes:        0
====================================

<router-outlet />
====================================
FICHIER: ./src/app/components/admin-dashboard/admin-dashboard.component.html
Lignes:      114
====================================

<div class="flex h-screen bg-gray-100 font-sans">

  <div *ngIf="isSidebarOpen" 
       class="fixed inset-0 z-20 bg-black opacity-50 transition-opacity lg:hidden" 
       (click)="toggleSidebar()"></div>

  <aside [class.translate-x-0]="isSidebarOpen"
         [class.-translate-x-full]="!isSidebarOpen"
         class="fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto bg-gray-900 text-white transition duration-300 transform lg:translate-x-0 lg:static lg:inset-0 flex flex-col">
    
    <div class="flex items-center justify-center h-16 bg-gray-800 border-b border-gray-700 shadow-md">
      <span class="text-xl font-bold tracking-wider text-blue-400">KYRANIS<span class="text-white">PARK</span></span>
    </div>

    <nav class="flex-1 px-2 py-4 space-y-2">
      
      <a routerLink="/admin/stats" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
        <div class="flex items-center">
          <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
          Dashboard
        </div>
      </a>

      <a routerLink="/admin/events" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
        <div class="flex items-center">
          <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
          Événements
        </div>
        <span *ngIf="eventCount$ | async as count" class="bg-gray-700 text-gray-200 py-0.5 px-2.5 rounded-full text-xs font-bold border border-gray-600">
          {{ count }}
        </span>
      </a>

      <a routerLink="/admin/reservations" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
        <div class="flex items-center">
          <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
          Réservations
        </div>
        <ng-container *ngIf="reservationCount$ | async as count">
          <span [class]="count > 0 ? 'bg-red-500 text-white animate-pulse' : 'bg-gray-700 text-gray-400'" 
                class="py-0.5 px-2.5 rounded-full text-xs font-bold shadow-sm">
            {{ count }}
          </span>
        </ng-container>
      </a>

      <a routerLink="/admin/feedback" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
         <div class="flex items-center">
            <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>
            Avis Clients
         </div>
      </a>

      <a routerLink="/admin/hero" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
         <div class="flex items-center">
            <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
            Slider Accueil
         </div>
      </a>

      <a routerLink="/admin/gallery" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
         <div class="flex items-center">
            <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            Galerie Média
         </div>
      </a>

      <a routerLink="/admin/settings" routerLinkActive="bg-blue-600"
         class="flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg cursor-pointer hover:bg-gray-700 transition-colors group">
        <div class="flex items-center">
          <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
          Paramètres
        </div>
      </a>
    </nav>

    <div class="p-4 border-t border-gray-700 bg-gray-800">
      <div class="flex items-center mb-4" *ngIf="currentUser$ | async as user">
        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-sm font-bold">A</div>
        <div class="ml-3">
          <p class="text-sm font-medium text-white">Admin</p>
          <p class="text-xs text-gray-400 truncate w-32">{{ user.email }}</p>
        </div>
      </div>
      <button (click)="logout()" class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-red-300 bg-red-900/30 border border-red-800 rounded-md hover:bg-red-900/50 transition-colors">
        Déconnexion
      </button>
    </div>
  </aside>

  <div class="flex-1 flex flex-col overflow-hidden">
    <header class="flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200">
      <button (click)="toggleSidebar()" class="text-gray-500 focus:outline-none lg:hidden mr-4">
        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <div class="text-xl font-semibold text-gray-800">Administration</div>
      <div class="flex items-center gap-4">
        <div class="w-8 h-8 rounded-full bg-gray-300"></div>
      </div>
    </header>

    <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/dashboard-stats/dashboard-stats.component.html
Lignes:       94
====================================

<div class="space-y-6">

  <div *ngIf="isLoading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-pulse">
    <div class="h-32 bg-gray-200 rounded-lg" *ngFor="let i of [1,2,3,4]"></div>
  </div>

  <div *ngIf="!isLoading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    
    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500 hover:shadow-md transition-shadow">
      <div class="flex items-center justify-between mb-4">
        <div>
          <p class="text-sm font-medium text-gray-500 uppercase">Revenu Estimé</p>
          <p class="text-xs text-gray-400">Année en cours</p>
        </div>
        <div class="p-3 bg-green-50 text-green-600 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </div>
      </div>
      <h3 class="text-3xl font-bold text-gray-800">{{ stats.revenue.total | number:'1.0-0' }} <span class="text-lg font-normal">TND</span></h3>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500 hover:shadow-md transition-shadow">
      <div class="flex items-center justify-between mb-2">
        <p class="text-sm font-medium text-gray-500 uppercase">Réservations</p>
        <div class="p-3 bg-blue-50 text-blue-600 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
        </div>
      </div>
      <h3 class="text-3xl font-bold text-gray-800 mb-4">{{ stats.reservations.total }}</h3>
      
      <div class="flex justify-between text-xs font-semibold">
        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded-md" title="En attente">{{ stats.reservations.pending }} Pending</span>
        <span class="px-2 py-1 bg-green-100 text-green-700 rounded-md" title="Confirmé">{{ stats.reservations.confirmed }} OK</span>
        <span class="px-2 py-1 bg-red-100 text-red-700 rounded-md" title="Annulé">{{ stats.reservations.cancelled }} KO</span>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500 hover:shadow-md transition-shadow">
      <div class="flex items-center justify-between mb-4">
        <p class="text-sm font-medium text-gray-500 uppercase">Événements</p>
        <div class="p-3 bg-purple-50 text-purple-600 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
        </div>
      </div>
      <div class="flex items-baseline gap-2">
        <h3 class="text-3xl font-bold text-gray-800">{{ stats.events.total }}</h3>
        <span class="text-sm text-gray-500">Total</span>
      </div>
      <div class="mt-3 flex gap-2">
        <span class="text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded">
          {{ stats.events.upcoming }} À venir
        </span>
        <span class="text-xs font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded">
          {{ stats.events.past }} Passés
        </span>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500 hover:shadow-md transition-shadow">
      <div class="flex items-center justify-between mb-4">
        <p class="text-sm font-medium text-gray-500 uppercase">Médiathèque</p>
        <div class="p-3 bg-orange-50 text-orange-600 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
        </div>
      </div>
      <h3 class="text-3xl font-bold text-gray-800">{{ stats.media.totalImages + stats.media.totalVideos }}</h3>
      <div class="mt-2 text-sm text-gray-600 flex justify-between px-2">
        <span>📸 {{ stats.media.totalImages }} Imgs</span>
        <span>🎥 {{ stats.media.totalVideos }} Vids</span>
      </div>
    </div>
  </div>

  <div *ngIf="!isLoading" class="bg-white rounded-xl shadow-sm p-6">
    <h3 class="text-lg font-bold text-gray-800 mb-6">Revenus Mensuels ({{ stats.revenue.total | number }} TND)</h3>
    
    <div class="flex items-end justify-between h-64 gap-2 w-full">
      <div *ngFor="let m of stats.revenue.monthly" class="flex flex-col items-center flex-1 group relative">
        
        <div class="mb-2 opacity-0 group-hover:opacity-100 transition-opacity absolute -top-8 bg-gray-900 text-white text-xs py-1 px-2 rounded pointer-events-none z-10 whitespace-nowrap">
          {{ m.amount | number }} TND
        </div>

        <div class="w-full bg-blue-100 rounded-t-sm relative hover:bg-blue-200 transition-colors duration-300 flex items-end justify-center overflow-hidden" 
             style="height: 100%;">
             <div class="bg-blue-500 w-full transition-all duration-1000 ease-out" 
                  [style.height.%]="m.height"></div>
        </div>

        <span class="text-xs text-gray-500 mt-2 font-medium">{{ m.month }}</span>
      </div>
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-events/manage-events.component.html
Lignes:      200
====================================

<div class="p-6">
  
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Gestion des Événements</h2>
    <button (click)="openCreateModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center shadow-sm transition-colors">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
      Nouvel Événement
    </button>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <div class="bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Titre</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lieu</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
          <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let event of paginatedEvents" class="hover:bg-gray-50">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="font-medium text-gray-900">{{ event.title }}</div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-gray-500">
            {{ event.date | date:'mediumDate' }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-gray-500">
            {{ event.location }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span [class]="getStatus(event.date) === 'À Venir' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'"
                  class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full">
              {{ getStatus(event.date) }}
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button (click)="openEditModal(event)" class="text-blue-600 hover:text-blue-900 mr-3">Modifier</button>
            <button (click)="confirmDelete(event.eventId!)" class="text-red-600 hover:text-red-900">Supprimer</button>
          </td>
        </tr>
        <tr *ngIf="events.length === 0">
          <td colspan="5" class="px-6 py-10 text-center text-gray-500">
            Aucun événement trouvé.
          </td>
        </tr>
      </tbody>
    </table>
    
    <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
      <div class="flex-1 flex justify-between sm:hidden">
        <button (click)="prevPage()" [disabled]="currentPage === 1" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50">Précédent</button>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50">Suivant</button>
      </div>
      <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
        <div>
          <p class="text-sm text-gray-700">
            Page <span class="font-medium">{{ currentPage }}</span> sur <span class="font-medium">{{ totalPages }}</span>
          </p>
        </div>
        <div>
          <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
            <button (click)="prevPage()" [disabled]="currentPage === 1" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50">
              <span class="sr-only">Précédent</span>
              <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
            </button>
            <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50">
              <span class="sr-only">Suivant</span>
              <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
            </button>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isModalOpen" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" (click)="closeModal()"></div>

    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl w-full">
      <form [formGroup]="eventForm" (ngSubmit)="saveEvent()">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4" id="modal-title">
            {{ currentEventId ? 'Modifier' : 'Créer' }} un Événement
          </h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Titre *</label>
              <input type="text" formControlName="title" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Date *</label>
              <input type="date" formControlName="date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Lieu *</label>
              <input type="text" formControlName="location" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>

            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Description *</label>
              <textarea formControlName="description" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"></textarea>
            </div>

            <div class="md:col-span-2 border-t pt-4 mt-2">
              <h4 class="font-medium text-gray-900 mb-2">Galerie Média (Supabase)</h4>
              
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">Images</label>
                <input type="file" multiple accept="image/*" (change)="handleFileUpload($event, 'image')" class="text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                
                <div class="flex flex-wrap gap-2 mt-2">
                  <div *ngFor="let url of eventForm.get('galleryImages')?.value" class="relative w-20 h-20 group">
                    <img [src]="url" class="w-full h-full object-cover rounded border">
                    <button type="button" (click)="removeMedia(url, 'image')" class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity">
                      <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                  </div>
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Vidéos</label>
                <input type="file" multiple accept="video/*" (change)="handleFileUpload($event, 'video')" class="text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100">
                
                <div class="flex flex-wrap gap-2 mt-2">
                  <div *ngFor="let url of eventForm.get('galleryVideos')?.value" class="relative w-20 h-20 bg-black group rounded overflow-hidden">
                    <video [src]="url" class="w-full h-full object-cover opacity-50"></video>
                    <div class="absolute inset-0 flex items-center justify-center text-white text-xs">VID</div>
                    <button type="button" (click)="removeMedia(url, 'video')" class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity">
                      <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                  </div>
                </div>
              </div>

              <div *ngIf="isUploading" class="text-blue-600 text-sm mt-2 flex items-center">
                <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                Téléchargement en cours...
              </div>

            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button type="submit" [disabled]="isSubmitting || isUploading" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-gray-400">
            {{ isSubmitting ? 'Enregistrement...' : 'Sauvegarder' }}
          </button>
          <button type="button" (click)="closeModal()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div *ngIf="isDeleteModalOpen" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" (click)="isDeleteModalOpen = false"></div>
    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full">
      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <div class="sm:flex sm:items-start">
          <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
            <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
          </div>
          <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Supprimer l'événement ?</h3>
            <div class="mt-2">
              <p class="text-sm text-gray-500">Êtes-vous sûr de vouloir supprimer cet événement ? Cette action est irréversible.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
        <button type="button" (click)="deleteEvent()" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
          Supprimer
        </button>
        <button type="button" (click)="isDeleteModalOpen = false" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
          Annuler
        </button>
      </div>
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-feedback/manage-feedback.component.html
Lignes:       62
====================================

<div class="p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Avis Clients</h2>
    <div class="text-sm text-gray-500">Validez les avis avant publication</div>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <div class="bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Client</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Note</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Message</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Statut</th>
          <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let fb of feedbacks$ | async" class="hover:bg-gray-50">
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
            {{ fb.createdAt | date:'shortDate' }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">
            {{ fb.name }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-yellow-500">
            <span *ngFor="let s of [1,2,3,4,5]">
              {{ s <= fb.rating ? '★' : '☆' }}
            </span>
          </td>
          <td class="px-6 py-4 text-sm text-gray-600 max-w-xs truncate" title="{{ fb.message }}">
            {{ fb.message }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span [class]="getStatusClass(fb.status)" class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full capitalize">
              {{ getStatusLabel(fb.status) }}
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button *ngIf="fb.status === 'pending'" (click)="updateStatus(fb.id!, 'approved')" class="text-green-600 hover:text-green-900 mr-3 font-bold">Valider</button>
            <button *ngIf="fb.status === 'pending'" (click)="updateStatus(fb.id!, 'rejected')" class="text-red-600 hover:text-red-900 mr-3">Refuser</button>
            <button (click)="deleteFeedback(fb.id!)" class="text-gray-400 hover:text-gray-600">
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <div *ngIf="(feedbacks$ | async)?.length === 0" class="p-6 text-center text-gray-500">
      Aucun avis client pour le moment.
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-gallery/manage-gallery.component.html
Lignes:      119
====================================

<div class="p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Gestion de la Galerie (Notre Galerie)</h2>
    <button (click)="openCreateModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center shadow-sm transition-colors">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
      Nouvel Album
    </button>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div *ngFor="let gallery of galleries" class="bg-white rounded-xl shadow overflow-hidden hover:shadow-lg transition-all">
      <div class="h-40 bg-gray-200 relative">
        <img *ngIf="gallery.images && gallery.images.length > 0" 
             [src]="gallery.images[0]" 
             class="w-full h-full object-cover">
        <div *ngIf="!gallery.images || gallery.images.length === 0" class="flex items-center justify-center h-full text-gray-400">
          <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
        </div>
        <div class="absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded">
          {{ gallery.images?.length || 0 }} images
        </div>
      </div>
      
      <div class="p-4">
        <h3 class="font-bold text-lg text-gray-800 mb-1">{{ gallery.name }}</h3>
        <p class="text-xs text-gray-500 mb-4">Catégorie: {{ gallery.category }}</p>
        
        <div class="flex justify-end space-x-2 border-t pt-3">
          <button (click)="openEditModal(gallery)" class="text-blue-600 hover:bg-blue-50 px-3 py-1 rounded text-sm font-medium">Modifier / Photos</button>
          <button (click)="confirmDelete(gallery.galleryId!)" class="text-red-600 hover:bg-red-50 px-3 py-1 rounded text-sm font-medium">Supprimer</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="galleries.length === 0" class="bg-white p-12 rounded-lg shadow text-center text-gray-500">
    Aucune galerie trouvée. Créez-en une pour qu'elle apparaisse sur la page d'accueil.
  </div>
</div>

<div *ngIf="isModalOpen" class="fixed inset-0 z-50 overflow-y-auto">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" (click)="closeModal()"></div>

    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl w-full">
      <form [formGroup]="galleryForm" (ngSubmit)="saveGallery()">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6">
          <h3 class="text-lg font-medium text-gray-900 mb-4">
            {{ currentGalleryId ? 'Modifier l\'Album' : 'Nouvel Album' }}
          </h3>

          <div class="grid grid-cols-1 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">Nom de l'album</label>
              <input type="text" formControlName="name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Catégorie</label>
              <select formControlName="category" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 bg-white">
                <option value="park">Parc (Accueil)</option>
                <option value="events">Événements</option>
                <option value="boats">Bateaux</option>
              </select>
            </div>

            <div class="border-t pt-4 mt-2">
              <h4 class="font-medium text-gray-900 mb-2">Gestion des Images</h4>
              
              <div class="mb-4">
                <label class="block w-full flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue-50 transition-colors">
                    <svg class="w-8 h-8 text-blue-600" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                        <path d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
                    </svg>
                    <span class="mt-2 text-base leading-normal text-blue-600 font-bold">Sélectionner des images</span>
                    <input type='file' class="hidden" multiple accept="image/*" (change)="handleFileUpload($event)" />
                </label>
                <div *ngIf="isUploading" class="mt-2 text-center text-blue-600 text-sm animate-pulse">
                   Téléchargement en cours vers Supabase...
                </div>
              </div>

              <div class="grid grid-cols-3 sm:grid-cols-4 gap-3 max-h-60 overflow-y-auto p-2 border rounded bg-gray-50">
                <div *ngFor="let url of galleryForm.get('images')?.value" class="relative group aspect-square">
                  <img [src]="url" class="w-full h-full object-cover rounded shadow-sm border">
                  
                  <button type="button" (click)="removeImage(url)" 
                          class="absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 shadow-md"
                          title="Supprimer définitivement">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                  </button>
                </div>
                <div *ngIf="galleryForm.get('images')?.value.length === 0" class="col-span-4 text-center text-gray-400 py-4 text-sm">
                   Aucune image dans cet album.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
          <button type="submit" [disabled]="isSubmitting || isUploading" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:bg-gray-400">
            {{ isSubmitting ? 'Enregistrement...' : 'Sauvegarder' }}
          </button>
          <button type="button" (click)="closeModal()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-hero/manage-hero.component.html
Lignes:       84
====================================

<div class="p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Slider Page d'Accueil</h2>
    <div class="text-sm text-gray-500">Gérez vos images promotionnelles</div>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <div class="bg-white rounded-xl shadow-md p-6 mb-8 border border-gray-100">
    <h3 class="text-lg font-bold text-gray-800 mb-4">Ajouter une nouvelle slide</h3>
    
    <form [formGroup]="slideForm" (ngSubmit)="addSlide()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      
      <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-gray-50 transition-colors"
           [class.border-blue-500]="isUploading">
        
        <input type="file" id="slideUpload" class="hidden" accept="image/*" (change)="handleFileUpload($event)" [disabled]="isUploading">
        
        <label for="slideUpload" class="cursor-pointer w-full h-full flex flex-col items-center justify-center">
          <div *ngIf="previewUrl; else uploadIcon" class="relative group w-full h-48 rounded-md overflow-hidden">
            <img [src]="previewUrl" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-black/40 flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity">
              Changer l'image
            </div>
          </div>
          
          <ng-template #uploadIcon>
            <svg class="w-12 h-12 text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
            <span class="text-sm text-gray-600 font-medium">Cliquez pour uploader</span>
            <span class="text-xs text-gray-400 mt-1">Recommandé: 1920x1080px</span>
          </ng-template>
        </label>
      </div>

      <div class="flex flex-col gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Titre (Gros)</label>
          <input type="text" formControlName="title" placeholder="Ex: Bienvenue à Kyranis Park" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:ring-blue-500 focus:border-blue-500">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Sous-titre (Petit)</label>
          <input type="text" formControlName="subtitle" placeholder="Ex: L'évasion au cœur des îles" class="w-full border border-gray-300 rounded-md py-2 px-3 focus:ring-blue-500 focus:border-blue-500">
        </div>
        
        <button type="submit" 
                [disabled]="slideForm.invalid || isUploading || isSubmitting || !uploadedFileUrl"
                class="mt-auto w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 flex justify-center items-center">
          <span *ngIf="isUploading || isSubmitting" class="animate-spin mr-2">⟳</span>
          {{ isUploading ? 'Upload...' : (isSubmitting ? 'Enregistrement...' : 'Ajouter la Slide') }}
        </button>
      </div>
    </form>
  </div>

  <h3 class="text-xl font-bold text-gray-800 mb-4">Slides Actives</h3>
  
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div *ngFor="let slide of slides$ | async" class="group relative bg-white rounded-xl shadow overflow-hidden">
      <div class="h-48 relative">
        <img [src]="slide.imageUrl" class="w-full h-full object-cover">
        
        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent"></div>
        
        <div class="absolute bottom-4 left-4 right-4">
          <p class="font-bold text-lg leading-tight text-white drop-shadow-md">{{ slide.title }}</p>
          <p class="text-sm mt-1 text-gray-200 drop-shadow-sm">{{ slide.subtitle }}</p>
        </div>
      </div>
      
      <button (click)="deleteSlide(slide)" class="absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110" title="Supprimer">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
      </button>
    </div>
  </div>

  <div *ngIf="(slides$ | async)?.length === 0" class="text-center py-12 text-gray-500 bg-white rounded-lg border border-dashed">
    Aucune slide personnalisée.
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-reservations/manage-reservations.component.html
Lignes:      244
====================================

<div class="p-6">
  
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
    <h2 class="text-2xl font-bold text-gray-800">Réservations</h2>
    
    <div class="flex flex-wrap gap-3 w-full md:w-auto">
      <div class="relative">
        <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400">
           <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
        </span>
        <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="applyFilters()" 
               placeholder="Rechercher nom/email..." 
               class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 w-full md:w-64">
      </div>

      <select [(ngModel)]="filterType" (ngModelChange)="applyFilters()" class="border border-gray-300 rounded-lg text-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 bg-white">
        <option value="all">Tous Types</option>
        <option value="boat">Bateaux</option>
        <option value="park">Espace Privé</option>
      </select>

      <select [(ngModel)]="filterStatus" (ngModelChange)="applyFilters()" class="border border-gray-300 rounded-lg text-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 bg-white">
        <option value="all">Tous Status</option>
        <option value="pending">En Attente</option>
        <option value="confirmed">Confirmé</option>
        <option value="cancelled">Annulé</option>
      </select>
    </div>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <div class="bg-white rounded-lg shadow overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th (click)="setSort('createdAt')" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">
            Date <span *ngIf="sortColumn === 'createdAt'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th (click)="setSort('fullName')" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">
            Client <span *ngIf="sortColumn === 'fullName'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th (click)="setSort('type')" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">
            Type
          </th>
          <th (click)="setSort('status')" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">
            Status
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Total
          </th>
          <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
            Actions
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let res of paginatedItems" class="hover:bg-gray-50 transition-colors">
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
            <div class="font-medium text-gray-900">{{ res.date | date:'shortDate' }}</div>
            <div class="text-xs">{{ res.time }}</div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-sm font-medium text-gray-900">{{ res.fullName }}</div>
            <div class="text-sm text-gray-500">{{ res.email }}</div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full" 
                  [class.bg-blue-100]="res.type === 'boat'" [class.text-blue-800]="res.type === 'boat'"
                  [class.bg-purple-100]="res.type === 'park'" [class.text-purple-800]="res.type === 'park'">
              {{ getTypeLabel(res.type) }}
            </span>
            <div class="text-xs text-gray-500 mt-1 capitalize">
               {{ res.type === 'boat' ? res.boatType : res.eventType }}
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span [class]="getStatusColor(res.status)" class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full capitalize">
              {{ res.status }}
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold">
            {{ res.totalPrice }} TND
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button (click)="openDetailModal(res)" class="text-blue-600 hover:text-blue-900 mr-3">Détails</button>
            
            <button *ngIf="res.status === 'pending'" (click)="quickUpdateStatus(res, 'confirmed')" class="text-green-600 hover:text-green-900 mr-2" title="Confirmer">✓</button>
            <button *ngIf="res.status !== 'cancelled'" (click)="quickUpdateStatus(res, 'cancelled')" class="text-red-600 hover:text-red-900 mr-2" title="Annuler">✕</button>
            
            <button (click)="confirmDelete(res.reservationId!)" class="text-gray-400 hover:text-red-600" title="Supprimer Définitivement">
              <svg class="w-4 h-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
            </button>
          </td>
        </tr>
        <tr *ngIf="filteredReservations.length === 0">
          <td colspan="6" class="px-6 py-10 text-center text-gray-500">
            Aucune réservation trouvée.
          </td>
        </tr>
      </tbody>
    </table>

    <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
      <div class="flex-1 flex justify-between sm:hidden">
        <button (click)="prevPage()" [disabled]="currentPage === 1" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50">Précédent</button>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50">Suivant</button>
      </div>
      <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
        <div>
          <p class="text-sm text-gray-700">
            Page <span class="font-medium">{{ currentPage }}</span> sur <span class="font-medium">{{ totalPages }}</span>
            (<span class="font-medium">{{ filteredReservations.length }}</span> résultats)
          </p>
        </div>
        <div>
          <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px">
            <button (click)="prevPage()" [disabled]="currentPage === 1" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50">
              Précédent
            </button>
            <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50">
              Suivant
            </button>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isDetailModalOpen && selectedReservation" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" (click)="closeDetailModal()"></div>

    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl w-full">
      <div class="bg-white px-4 pt-5 pb-4 sm:p-6">
        <div class="flex justify-between items-start border-b border-gray-200 pb-4 mb-4">
          <h3 class="text-xl leading-6 font-medium text-gray-900" id="modal-title">
            Détails Réservation #{{ selectedReservation.reservationId?.slice(0,6) }}
          </h3>
          <span [class]="getStatusColor(selectedReservation.status)" class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide">
            {{ selectedReservation.status }}
          </span>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          
          <div>
            <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-3">Client</h4>
            <div class="space-y-2">
              <p><span class="font-medium">Nom:</span> {{ selectedReservation.fullName }}</p>
              <p><span class="font-medium">Email:</span> <a href="mailto:{{selectedReservation.email}}" class="text-blue-600">{{ selectedReservation.email }}</a></p>
              <p><span class="font-medium">Tél:</span> <a href="tel:{{selectedReservation.phone}}" class="text-blue-600">{{ selectedReservation.phone }}</a></p>
            </div>
          </div>

          <div>
            <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-3">Événement</h4>
            <div class="space-y-2">
              <p><span class="font-medium">Type:</span> {{ getTypeLabel(selectedReservation.type) }}</p>
              <p><span class="font-medium">Sous-type:</span> <span class="capitalize">{{ selectedReservation.type === 'boat' ? selectedReservation.boatType : selectedReservation.eventType }}</span></p>
              <p><span class="font-medium">Date:</span> {{ selectedReservation.date | date:'fullDate' }}</p>
              <p><span class="font-medium">Heure:</span> {{ selectedReservation.time }}</p>
              <p><span class="font-medium">Invités:</span> {{ selectedReservation.numberOfPeople }} pers.</p>
            </div>
          </div>

          <div class="md:col-span-2 bg-gray-50 p-4 rounded-lg">
            <div class="flex justify-between items-center mb-2">
               <span class="font-medium">Prix Total Estimé:</span>
               <span class="text-xl font-bold text-gray-900">{{ selectedReservation.totalPrice }} TND</span>
            </div>
            <div class="mt-4">
              <span class="font-medium block mb-1">Demandes Spéciales:</span>
              <p class="text-sm text-gray-600 italic bg-white p-2 rounded border border-gray-200">
                {{ selectedReservation.specialRequests || 'Aucune demande particulière.' }}
              </p>
            </div>
          </div>

          <div class="md:col-span-2 border-t pt-4">
            <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-3">Gestion Statut</h4>
            <div class="flex items-center gap-4">
              <select [(ngModel)]="tempStatus" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border">
                <option value="pending">En Attente (Pending)</option>
                <option value="confirmed">Confirmé</option>
                <option value="cancelled">Annulé</option>
              </select>
              <button (click)="saveStatus()" [disabled]="isUpdating" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50">
                {{ isUpdating ? '...' : 'Sauvegarder' }}
              </button>
            </div>
            <div class="mt-4 text-right">
              <button (click)="sendEmailMock()" class="text-sm text-gray-500 hover:text-blue-600 underline">
                Envoyer un email de confirmation au client
              </button>
            </div>
          </div>

        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
        <button type="button" (click)="closeDetailModal()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
          Fermer
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isDeleteModalOpen" class="fixed inset-0 z-50 overflow-y-auto">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75" (click)="isDeleteModalOpen = false"></div>
    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full">
      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <div class="sm:flex sm:items-start">
          <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
            <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
          </div>
          <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
            <h3 class="text-lg leading-6 font-medium text-gray-900">Supprimer la réservation ?</h3>
            <div class="mt-2">
              <p class="text-sm text-gray-500">Attention, cette action supprimera définitivement la réservation de la base de données. Préférez le statut "Annulé" pour garder une trace.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
        <button type="button" (click)="deleteReservation()" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm">
          Supprimer
        </button>
        <button type="button" (click)="isDeleteModalOpen = false" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
          Annuler
        </button>
      </div>
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/admin-dashboard/settings/settings.component.html
Lignes:      116
====================================

<div class="p-6 max-w-5xl mx-auto">

  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Paramètres Généraux</h2>
    <div *ngIf="isSaving" class="flex items-center text-blue-600 text-sm">
      <svg class="animate-spin -ml-1 mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
      Sauvegarde...
    </div>
  </div>

  <div *ngIf="toastMessage" 
       [class.bg-green-500]="toastType === 'success'"
       [class.bg-red-500]="toastType === 'error'"
       class="fixed top-4 right-4 text-white px-6 py-3 rounded shadow-lg z-50 animate-bounce">
    {{ toastMessage }}
  </div>

  <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="space-y-6">
    
    <div class="bg-white shadow rounded-lg p-6" formGroupName="header">
      <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Configuration du Header (Menu)</h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        
        <div class="md:col-span-2 border p-4 rounded bg-gray-50">
          <label class="block text-sm font-bold text-gray-700 mb-2">Logo du Site</label>
          
          <div class="flex items-center gap-6">
            <div class="h-16 w-auto min-w-[100px] border bg-white flex items-center justify-center rounded overflow-hidden">
               <img *ngIf="settingsForm.get('header.logoUrl')?.value" 
                    [src]="settingsForm.get('header.logoUrl')?.value" 
                    class="h-full object-contain">
               <span *ngIf="!settingsForm.get('header.logoUrl')?.value" class="text-xs text-gray-400">Aucun logo</span>
            </div>

            <div class="flex flex-col gap-2">
              <label class="cursor-pointer bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200 transition text-center">
                <span *ngIf="!isUploadingLogo">Télécharger une image</span>
                <span *ngIf="isUploadingLogo">Upload en cours...</span>
                <input type="file" class="hidden" accept="image/*" (change)="handleLogoUpload($event)" [disabled]="isUploadingLogo">
              </label>
              
              <button *ngIf="settingsForm.get('header.logoUrl')?.value" 
                      type="button" 
                      (click)="removeLogo()" 
                      class="text-red-600 text-xs hover:underline text-center">
                Supprimer le logo
              </button>
            </div>
          </div>
          <p class="text-xs text-gray-500 mt-2">Si aucun logo n'est défini, le texte ci-dessous sera affiché.</p>
        </div>

        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-gray-700">Texte du Logo (Fallback)</label>
          <input type="text" formControlName="logoText" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 font-bold">
        </div>

        <div><label class="block text-sm font-medium text-gray-700">Label "Accueil"</label><input type="text" formControlName="menuHome" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Label "Événements"</label><input type="text" formControlName="menuEvents" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Label "Réservations"</label><input type="text" formControlName="menuReservations" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Label "Contact"</label><input type="text" formControlName="menuContact" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
      </div>
    </div>

    <div class="bg-white shadow rounded-lg p-6">
      <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Informations Entreprise</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div><label class="block text-sm font-medium text-gray-700">Nom du Business</label><input type="text" formControlName="businessName" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Horaires</label><input type="text" formControlName="openingHours" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Téléphone</label><input type="text" formControlName="phone" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div><label class="block text-sm font-medium text-gray-700">Email</label><input type="email" formControlName="email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700">Adresse</label><input type="text" formControlName="address" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
        <div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700">Facebook URL</label><input type="text" formControlName="facebookUrl" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></div>
      </div>
    </div>

    <div class="bg-white shadow rounded-lg p-6">
      <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Contenu & Localisation</h3>
      <div class="space-y-4">
        <div><label class="block text-sm font-medium text-gray-700">Intro Accueil</label><textarea formControlName="homePageDescription" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></textarea></div>
        <div><label class="block text-sm font-medium text-gray-700">Description Parc</label><textarea formControlName="parkDescription" rows="2" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></textarea></div>
        <div><label class="block text-sm font-medium text-gray-700">Google Maps Embed</label><textarea formControlName="googleMapsEmbed" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs"></textarea></div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="bg-white shadow rounded-lg p-6" formGroupName="boatPrices">
        <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Tarifs Bateaux</h3>
        <div class="space-y-4">
          <div class="flex justify-between"><label>Flouka</label><input type="number" formControlName="flouka" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Speed Boat</label><input type="number" formControlName="speed_boat" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Catamaran</label><input type="number" formControlName="catamaran" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Yacht</label><input type="number" formControlName="yacht" class="w-24 border rounded px-2"></div>
        </div>
      </div>
      <div class="bg-white shadow rounded-lg p-6" formGroupName="eventPrices">
        <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Tarifs Espace Privé</h3>
        <div class="space-y-4">
          <div class="flex justify-between"><label>Anniversaire</label><input type="number" formControlName="birthday" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Mariage</label><input type="number" formControlName="marriage" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Conférence</label><input type="number" formControlName="conference" class="w-24 border rounded px-2"></div>
          <div class="flex justify-between"><label>Autre</label><input type="number" formControlName="other" class="w-24 border rounded px-2"></div>
        </div>
      </div>
    </div>

    <div class="flex justify-end space-x-4 pt-4">
      <button type="button" (click)="resetForm()" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Réinitialiser</button>
      <button type="submit" [disabled]="isSaving" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50">
        {{ isSaving ? 'Enregistrement...' : 'Enregistrer' }}
      </button>
    </div>

  </form>
</div>

====================================
FICHIER: ./src/app/components/footer/footer.component.html
Lignes:       64
====================================

<footer class="bg-gray-900 text-white w-full border-t border-gray-800 mt-auto relative z-50">
  
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
      
      <div class="space-y-4">
        <div class="flex items-center space-x-2">
           <span class="text-2xl font-bold tracking-wider text-blue-500">
             {{ (settings.businessName || 'KYRANIS PARK') | uppercase }}
           </span>
        </div>
        <p class="text-gray-400 text-sm leading-relaxed">
          {{ settings.homePageDescription | slice:0:150 }}...
        </p>
        
        <div class="flex space-x-4 pt-2" *ngIf="settings.facebookUrl">
          <a [href]="settings.facebookUrl" target="_blank" class="text-gray-400 hover:text-blue-500 transition-colors flex items-center gap-2 group">
            <span class="text-sm font-medium border border-gray-600 px-3 py-1 rounded-full group-hover:border-blue-500">Suivez-nous sur Facebook</span>
          </a>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-6 text-white uppercase tracking-wider border-b-2 border-blue-600 pb-2 inline-block">Menu</h3>
        <ul class="space-y-3 text-sm">
          <li><a routerLink="/" class="text-gray-400 hover:text-white transition-colors no-underline">Accueil</a></li>
          <li><a routerLink="/evenements" class="text-gray-400 hover:text-white transition-colors no-underline">Nos Événements</a></li>
          <li><a routerLink="/reservations" class="text-gray-400 hover:text-white transition-colors no-underline">Réserver</a></li>
          <li><a routerLink="/contact" class="text-gray-400 hover:text-white transition-colors no-underline">Nous Contacter</a></li>
        </ul>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-6 text-white uppercase tracking-wider border-b-2 border-blue-600 pb-2 inline-block">Infos Contact</h3>
        <ul class="space-y-5 text-sm">
          
          <li class="flex items-start">
            <span class="text-blue-500 mr-3 text-xl">📍</span>
            <span class="text-gray-300">{{ settings.address || 'Zone Touristique' }}</span>
          </li>

          <li class="flex items-center">
            <span class="text-blue-500 mr-3 text-xl">📞</span>
            <a href="tel:{{ settings.phone }}" class="text-white font-medium hover:text-blue-400 transition-colors no-underline text-lg">
              {{ settings.phone || '--' }}
            </a>
          </li>

          <li class="flex items-center">
            <span class="text-blue-500 mr-3 text-xl">✉️</span>
            <a href="mailto:{{ settings.email }}" class="text-gray-300 hover:text-white transition-colors break-all no-underline">
              {{ settings.email || '--' }}
            </a>
          </li>

        </ul>
      </div>
    </div>
    
    <div class="mt-12 pt-8 border-t border-gray-800 text-center flex flex-col md:flex-row justify-between items-center text-xs text-gray-500">
      <p>© {{ currentYear }} {{ settings.businessName || 'Kyranis Park' }}. Tous droits réservés.</p>
      <a routerLink="/admin-login" class="mt-2 md:mt-0 opacity-50 hover:opacity-100 transition-opacity underline">Espace Admin</a>
    </div>
  </div>
</footer>
====================================
FICHIER: ./src/app/components/gallery/gallery.component.html
Lignes:       74
====================================

<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
  <div *ngFor="let item of items; let i = index" 
       class="group relative aspect-square overflow-hidden rounded-xl bg-gray-100 cursor-pointer shadow-sm hover:shadow-lg transition-all"
       (click)="openLightbox(i)">
    
    <img *ngIf="item.type === 'image'" 
         [src]="item.url" 
         loading="lazy"
         alt="Gallery item"
         class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-110">

    <video *ngIf="item.type === 'video'"
           [src]="item.url"
           muted
           class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-110">
    </video>

    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center">
      <div class="bg-white/20 backdrop-blur-sm rounded-full p-2 opacity-0 group-hover:opacity-100 transition-all transform translate-y-4 group-hover:translate-y-0">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path *ngIf="item.type === 'image'" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" />
          <path *ngIf="item.type === 'video'" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
        </svg>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isOpen" 
     class="fixed inset-0 z-[100] bg-black/95 flex items-center justify-center backdrop-blur-sm transition-opacity duration-300"
     (click)="closeLightbox()">
  
  <button class="absolute top-4 right-4 text-white/70 hover:text-white p-2 z-[110] bg-black/20 hover:bg-black/50 rounded-full transition-colors" 
          (click)="closeLightbox()">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>

  <button *ngIf="items.length > 1"
          class="absolute left-2 md:left-8 top-1/2 -translate-y-1/2 text-white p-3 z-[110] bg-black/30 hover:bg-white/20 rounded-full transition-all backdrop-blur-sm border border-white/10" 
          (click)="$event.stopPropagation(); prev()">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <button *ngIf="items.length > 1"
          class="absolute right-2 md:right-8 top-1/2 -translate-y-1/2 text-white p-3 z-[110] bg-black/30 hover:bg-white/20 rounded-full transition-all backdrop-blur-sm border border-white/10" 
          (click)="$event.stopPropagation(); next()">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </button>

  <div class="relative w-full h-full flex flex-col items-center justify-center p-4" 
       (click)="$event.stopPropagation()">
    
    <img *ngIf="items[currentIndex].type === 'image'" 
         [src]="items[currentIndex].url" 
         class="max-w-full max-h-[85vh] object-contain rounded shadow-2xl animate-fade-in select-none">
    
    <video *ngIf="items[currentIndex].type === 'video'" 
           [src]="items[currentIndex].url" 
           controls 
           autoplay
           class="max-w-full max-h-[85vh] w-auto rounded shadow-2xl outline-none">
    </video>

    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 text-white/80 text-sm bg-black/40 px-4 py-1 rounded-full backdrop-blur-md border border-white/10">
      {{ currentIndex + 1 }} / {{ items.length }}
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/components/header/header.component.html
Lignes:       97
====================================

<header class="bg-white shadow-md fixed w-full z-50 top-0 left-0 transition-all duration-300 h-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-12">
      
      <div class="flex-shrink-0 flex items-center cursor-pointer" routerLink="/" (click)="closeMenu()">
        <img *ngIf="settings.header?.logoUrl" 
             [src]="settings.header?.logoUrl" 
             alt="Logo" 
             class="h-8 w-auto object-contain">

        <span *ngIf="!settings.header?.logoUrl" class="text-xl font-bold text-blue-600 tracking-wider">
          {{ settings.header?.logoText || 'KYRANIS PARK' }}
        </span>
      </div>

      <nav class="hidden md:flex space-x-6 items-center">
        <a routerLink="/" routerLinkActive="text-blue-600 font-semibold border-b-2 border-blue-600" [routerLinkActiveOptions]="{exact: true}"
           class="text-gray-600 hover:text-blue-500 px-1 py-1 text-sm font-medium transition-colors">
           {{ settings.header?.menuHome || 'Accueil' }}
        </a>
        <a routerLink="/evenements" routerLinkActive="text-blue-600 font-semibold border-b-2 border-blue-600"
           class="text-gray-600 hover:text-blue-500 px-1 py-1 text-sm font-medium transition-colors">
           {{ settings.header?.menuEvents || 'Événements' }}
        </a>
        <a routerLink="/reservations" routerLinkActive="text-blue-600 font-semibold border-b-2 border-blue-600"
           class="text-gray-600 hover:text-blue-500 px-1 py-1 text-sm font-medium transition-colors">
           {{ settings.header?.menuReservations || 'Réservations' }}
        </a>
        <a routerLink="/contact" routerLinkActive="text-blue-600 font-semibold border-b-2 border-blue-600"
           class="text-gray-600 hover:text-blue-500 px-1 py-1 text-sm font-medium transition-colors">
            {{ settings.header?.menuContact || 'Contact' }}
        </a>

        <ng-container *ngIf="user$ | async as user; else loginBtn">
          <div class="flex items-center gap-3 border-l pl-4 ml-2 border-gray-200">
             <a routerLink="/admin" class="text-gray-500 hover:text-blue-600" title="Administration">
               <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
               </svg>
             </a>
             <button (click)="logout()" class="text-red-500 hover:text-red-700" title="Déconnexion">
               <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
               </svg>
             </button>
          </div>
        </ng-container>
        <ng-template #loginBtn></ng-template>
      </nav>

      <div class="flex items-center md:hidden">
        <button (click)="toggleMenu()" type="button" class="text-gray-600 hover:text-gray-900 focus:outline-none p-2">
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path *ngIf="!isMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            <path *ngIf="isMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="md:hidden bg-white border-t border-gray-100 shadow-lg absolute w-full left-0 top-12" *ngIf="isMenuOpen">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 flex flex-col">
      <a routerLink="/" (click)="closeMenu()" 
         routerLinkActive="bg-blue-50 text-blue-600" [routerLinkActiveOptions]="{exact: true}" 
         class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">
         {{ settings.header?.menuHome || 'Accueil' }}
      </a>
      <a routerLink="/evenements" (click)="closeMenu()" 
         routerLinkActive="bg-blue-50 text-blue-600" 
         class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">
         {{ settings.header?.menuEvents || 'Événements' }}
      </a>
      <a routerLink="/reservations" (click)="closeMenu()" 
         routerLinkActive="bg-blue-50 text-blue-600" 
         class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">
         {{ settings.header?.menuReservations || 'Réservations' }}
      </a>
      <a routerLink="/contact" (click)="closeMenu()" 
         routerLinkActive="bg-blue-50 text-blue-600" 
         class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50">
         {{ settings.header?.menuContact || 'Contact' }}
      </a>
      
      <div class="border-t border-gray-200 mt-2 pt-2">
         <ng-container *ngIf="user$ | async as user; else mobileLogin">
            <a routerLink="/admin" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-blue-600 hover:bg-blue-50">Administration</a>
            <button (click)="logout()" class="w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50">Déconnexion</button>
         </ng-container>
         <ng-template #mobileLogin>
            <a routerLink="/admin-login" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-gray-900 text-xs">Admin Access</a>
         </ng-template>
      </div>
    </div>
  </div>
</header>

====================================
FICHIER: ./src/app/components/hero-slider/hero-slider.component.html
Lignes:       49
====================================

<div class="relative w-full h-[500px] md:h-[70vh] min-h-[500px] overflow-hidden bg-gray-900 group">
  
  <div class="absolute inset-0 w-full h-full" [@slideAnimation]="currentIndex">
    
    <ng-container *ngFor="let slide of slides; let i = index">
      <div class="absolute inset-0 w-full h-full" *ngIf="i === currentIndex">
        
        <div class="absolute inset-0 w-full h-[120%] -top-[10%]"
             [style.transform]="'translate3d(0, ' + (scrollY * 0.5) + 'px, 0)'">
          <img [src]="slide.imageUrl" 
               [alt]="slide.title"
               class="w-full h-full object-cover">
        </div>

        <div class="absolute inset-0 bg-black/40"></div>

        <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-4 z-10">
          
          <h1 class="text-3xl md:text-5xl lg:text-6xl font-bold mb-4 tracking-wide animate-fade-in-up uppercase text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.8)]">
            {{ slide.title }}
          </h1>
          
          <p class="text-lg md:text-xl font-light tracking-widest animate-fade-in-up delay-200 text-white drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] max-w-2xl">
            {{ slide.subtitle }}
          </p>
          
          <a routerLink="/evenements" 
             class="mt-8 px-8 py-3 border-2 border-white text-white font-semibold rounded hover:bg-white hover:text-gray-900 transition-all duration-300 animate-fade-in-up delay-300 shadow-lg cursor-pointer inline-block no-underline">
             DÉCOUVRIR
          </a>

        </div>
      </div>
    </ng-container>

  </div>

  <button (click)="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-black/30 text-white hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 md:h-8 md:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
  </button>

  <button (click)="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-black/30 text-white hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 md:h-8 md:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
  </button>

  <div class="absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex space-x-3">
    <button *ngFor="let slide of slides; let i = index" (click)="goToSlide(i)" class="w-2 h-2 md:w-3 md:h-3 rounded-full transition-all duration-300 shadow-sm border border-black/20 cursor-pointer" [ngClass]="i === currentIndex ? 'bg-white scale-125 w-6 md:w-8' : 'bg-white/50 hover:bg-white/80'"></button>
  </div>
</div>

====================================
FICHIER: ./src/app/components/slider/slider.component.html
Lignes:        1
====================================

<p>slider works!</p>

====================================
FICHIER: ./src/app/pages/accueil/accueil.component.html
Lignes:        1
====================================

<p>accueil works!</p>

====================================
FICHIER: ./src/app/pages/admin-login/admin-login.component.html
Lignes:       64
====================================

<div class="min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg">
    
    <div class="text-center">
      <h2 class="mt-2 text-center text-3xl font-extrabold text-gray-900">
        Administration
      </h2>
      <p class="mt-2 text-center text-sm text-gray-600">
        Connexion sécurisée Kyranis Park
      </p>
    </div>

    <div *ngIf="errorMessage" class="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
          </svg>
        </div>
        <div class="ml-3">
          <p class="text-sm text-red-700">{{ errorMessage }}</p>
        </div>
      </div>
    </div>

    <form class="mt-8 space-y-6" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="rounded-md shadow-sm -space-y-px">
        <div>
          <label for="email-address" class="sr-only">Adresse Email</label>
          <input id="email-address" type="email" formControlName="email" required 
                 class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" 
                 placeholder="Adresse Email">
        </div>
        <div>
          <label for="password" class="sr-only">Mot de passe</label>
          <input id="password" type="password" formControlName="password" required 
                 class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" 
                 placeholder="Mot de passe">
        </div>
      </div>

      <div>
        <button type="submit" 
                [disabled]="loginForm.invalid || isLoading"
                class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
          <span class="absolute left-0 inset-y-0 flex items-center pl-3">
            <svg *ngIf="!isLoading" class="h-5 w-5 text-blue-500 group-hover:text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            <svg *ngIf="isLoading" class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </span>
          {{ isLoading ? 'Connexion...' : 'Se connecter' }}
        </button>
      </div>
    </form>
    
    <div class="text-center mt-4">
      <a routerLink="/" class="text-sm text-gray-500 hover:text-gray-900">Retour au site</a>
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/pages/contact/contact.component.html
Lignes:      178
====================================

<div class="min-h-screen bg-gray-50 pt-20 pb-12 relative">
  
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <a routerLink="/" class="inline-flex items-center text-gray-500 hover:text-blue-600 mb-6 transition-colors group cursor-pointer no-underline select-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
      Retour à l'accueil
    </a>

    <div class="text-center mb-12">
      <h1 class="text-4xl font-extrabold text-gray-900">Contactez-nous</h1>
      <p class="mt-4 text-xl text-gray-600">Une question ? Une réservation ? Nous sommes à votre écoute.</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
      
      <div class="space-y-8">
        <div class="bg-white rounded-2xl shadow-lg p-8 border-l-4 border-blue-600">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Informations</h2>
          
          <div class="space-y-6">
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 text-blue-600">
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                  </svg>
                </div>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Appelez-nous</p>
                <p class="text-2xl md:text-3xl font-bold text-gray-900 tracking-tight text-blue-600">
                  +216 28 417 822
                </p>
                <p class="text-xs text-gray-400 mt-1">Du Lundi au Dimanche, 09h - 22h</p>
              </div>
            </div>

            <div class="flex items-start">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 text-blue-600">
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                </div>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Email</p>
                <p class="text-lg font-medium text-gray-900">contact@kyranispark.tn</p>
              </div>
            </div>

            <div class="flex items-start">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 text-blue-600">
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                </div>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-500">Adresse</p>
                <p class="text-lg font-medium text-gray-900">Zone Touristique, Îles Kerkennah</p>
                <p class="text-gray-600">Monastir, Tunisie</p>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden h-80 w-full relative">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d51806.9634718507!2d11.238497647230094!3d34.69741005701416!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x130198661266e74f%3A0x64e29452296e053f!2sKerkennah!5e0!3m2!1sfr!2stn!4v1700000000000!5m2!1sfr!2stn" 
            width="100%" 
            height="100%" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-xl p-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Envoyez-nous un message</h2>

        <div *ngIf="submitSuccess" class="mb-6 bg-green-50 border-l-4 border-green-500 p-4 rounded animate-bounce-in">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-green-700 font-medium">Message envoyé avec succès !</p>
              <p class="text-sm text-green-600">Nous vous répondrons dans les plus brefs délais.</p>
            </div>
          </div>
        </div>

        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
          
          <div>
            <label class="block text-sm font-medium text-gray-700">Nom Complet *</label>
            <input type="text" formControlName="name" 
                   [class.border-red-500]="isFieldInvalid('name')"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-3 px-4 border">
            <p *ngIf="isFieldInvalid('name')" class="mt-1 text-xs text-red-500">Ce champ est requis.</p>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Email *</label>
            <input type="email" formControlName="email" 
                   [class.border-red-500]="isFieldInvalid('email')"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-3 px-4 border">
            <p *ngIf="isFieldInvalid('email')" class="mt-1 text-xs text-red-500">Email valide requis.</p>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Téléphone (Optionnel)</label>
            <input type="text" formControlName="phone" 
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-3 px-4 border">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Sujet *</label>
            <select formControlName="subject" 
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-3 px-4 border bg-white">
              <option value="Réservation">Réservation</option>
              <option value="Question">Question Générale</option>
              <option value="Réclamation">Réclamation</option>
              <option value="Autre">Autre</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Message *</label>
            <textarea formControlName="message" rows="5" 
                      [class.border-red-500]="isFieldInvalid('message')"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-3 px-4 border"></textarea>
            <p *ngIf="isFieldInvalid('message')" class="mt-1 text-xs text-red-500">Minimum 10 caractères.</p>
          </div>

          <div class="flex items-start">
            <div class="flex items-center h-5">
              <input id="terms" type="checkbox" formControlName="acceptTerms" 
                     class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
            </div>
            <div class="ml-3 text-sm">
              <label for="terms" class="font-medium text-gray-700">J'accepte que mes données soient traitées pour répondre à ma demande.</label>
              <p *ngIf="isFieldInvalid('acceptTerms')" class="mt-1 text-xs text-red-500">Vous devez accepter les conditions.</p>
            </div>
          </div>

          <button type="submit" [disabled]="contactForm.invalid || isSubmitting"
                  class="w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-lg font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all transform hover:scale-[1.02] disabled:bg-gray-400 disabled:scale-100 disabled:cursor-not-allowed">
            <span *ngIf="isSubmitting" class="animate-spin mr-2">⟳</span>
            {{ isSubmitting ? 'Envoi en cours...' : 'Envoyer le Message' }}
          </button>

        </form>
      </div>
    </div>
  </div>

  <a href="https://facebook.com/kyranispark" target="_blank" 
     class="fixed bottom-6 right-6 z-50 flex items-center justify-center w-16 h-16 bg-[#1877F2] rounded-full shadow-2xl hover:scale-110 transition-transform duration-300 group animate-pulse-slow">
    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
      <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
    </svg>
    <span class="absolute right-20 bg-gray-900 text-white text-xs font-bold py-1 px-3 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">
      Suivez-nous !
    </span>
  </a>

</div>

====================================
FICHIER: ./src/app/pages/evenements/evenements.component.html
Lignes:      135
====================================

<div class="min-h-screen bg-gray-50 pb-20">
  
  <div class="bg-blue-900 text-white py-12 relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <a routerLink="/" class="inline-flex items-center text-blue-300 hover:text-white mb-6 transition-colors group cursor-pointer no-underline select-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg> Retour à l'accueil
      </a>
      <div class="text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 text-white">Nos Événements</h1>
        <p class="text-blue-100 text-lg max-w-2xl mx-auto">Découvrez les moments magiques passés et les aventures à venir à Kyranis Park.</p>
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
    <div class="bg-white rounded-lg shadow-sm p-4 flex flex-wrap justify-center gap-4 border border-gray-100">
      <button (click)="applyFilter('all')" [class]="currentFilter === 'all' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'" class="px-6 py-2 rounded-full font-medium transition-colors duration-200">Tous</button>
      <button (click)="applyFilter('upcoming')" [class]="currentFilter === 'upcoming' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'" class="px-6 py-2 rounded-full font-medium transition-colors duration-200">À Venir</button>
      <button (click)="applyFilter('past')" [class]="currentFilter === 'past' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'" class="px-6 py-2 rounded-full font-medium transition-colors duration-200">Passés</button>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
    <div *ngIf="isLoading" class="flex justify-center py-20"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>
    <div *ngIf="!isLoading && filteredEvents.length === 0" class="text-center py-20"><p class="text-gray-500 text-lg">Aucun événement trouvé.</p></div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div *ngFor="let event of filteredEvents" class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 group flex flex-col h-full">
        <div class="relative h-56 overflow-hidden cursor-pointer" (click)="openModal(event)">
          <img [src]="getCoverImage(event)" [alt]="event.title" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
          <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow text-center min-w-[60px]">
            <div class="text-sm font-bold text-gray-800">{{ event.date | date:'dd' }}</div>
            <div class="text-xs uppercase text-gray-500">{{ event.date | date:'MMM' }}</div>
          </div>
          <div [ngClass]="isEventPast(event) ? 'bg-gray-500' : 'bg-green-500'" class="absolute top-4 left-4 text-white text-xs font-bold px-3 py-1 rounded-full shadow">{{ isEventPast(event) ? 'Passé' : 'À Venir' }}</div>
        </div>
        <div class="p-6 flex flex-col flex-grow">
          <div class="flex items-center text-sm text-gray-500 mb-2">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg> {{ event.location }}
          </div>
          <h3 class="text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors cursor-pointer" (click)="openModal(event)">{{ event.title }}</h3>
          <p class="text-gray-600 text-sm line-clamp-3 mb-4 flex-grow">{{ event.description }}</p>
          <button (click)="openModal(event)" class="w-full mt-auto bg-gray-50 hover:bg-blue-50 text-blue-600 font-semibold py-2 px-4 rounded-lg border border-blue-100 transition-colors">Voir Détails</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isModalOpen && selectedEvent" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity" (click)="closeModal()"></div>

  <div class="flex items-center justify-center min-h-screen p-4 text-center sm:p-0">
    <div class="relative bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:max-w-4xl w-full">
      
      <button (click)="closeModal()" class="absolute top-4 right-4 z-10 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white transition-colors">
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
      </button>

      <div class="h-64 sm:h-80 w-full relative">
        <img [src]="getCoverImage(selectedEvent)" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-6 left-6 text-white">
           <span [ngClass]="isEventPast(selectedEvent) ? 'bg-gray-500' : 'bg-green-500'" class="text-xs font-bold px-2 py-1 rounded mb-2 inline-block">{{ isEventPast(selectedEvent) ? 'PASSÉ' : 'À VENIR' }}</span>
           <h2 class="text-3xl font-bold">{{ selectedEvent.title }}</h2>
           <div class="flex items-center mt-2 text-gray-200">
             <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg> {{ selectedEvent.date | date:'fullDate' }}
             <span class="mx-3">•</span>
             <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg> {{ selectedEvent.location }}
           </div>
        </div>
      </div>

      <div class="p-6 sm:p-8">
        <div class="prose max-w-none text-gray-700 mb-8 whitespace-pre-wrap">{{ selectedEvent.description }}</div>
        
        <div class="border-t border-gray-100 my-8"></div>
        <h3 class="text-xl font-bold text-gray-900 mb-4" *ngIf="(selectedEvent.galleryImages?.length || 0) + (selectedEvent.galleryVideos?.length || 0) > 0">Galerie Média</h3>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
          <div *ngFor="let img of selectedEvent.galleryImages; let i = index" 
               class="relative aspect-square cursor-pointer group rounded-lg overflow-hidden"
               (click)="openGallery(i, selectedEvent.galleryImages, selectedEvent.galleryVideos)">
            <img [src]="img" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center">
               <svg class="w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" /></svg>
            </div>
          </div>
          
          <div *ngFor="let vid of selectedEvent.galleryVideos; let j = index" 
               class="col-span-2 aspect-video bg-black rounded-lg overflow-hidden cursor-pointer group relative"
               (click)="openGallery((selectedEvent.galleryImages?.length || 0) + j, selectedEvent.galleryImages, selectedEvent.galleryVideos)">
             <video class="w-full h-full object-cover opacity-80 group-hover:opacity-100" [src]="vid"></video>
             <div class="absolute inset-0 flex items-center justify-center"><svg class="w-12 h-12 text-white opacity-80 group-hover:opacity-100" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg></div>
          </div>
        </div>
      </div>

      <div class="bg-gray-50 px-6 py-4 flex justify-end">
        <button (click)="closeModal()" class="text-gray-600 hover:text-gray-900 font-semibold px-4 py-2">Fermer</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isLightboxOpen" class="fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4 transition-opacity duration-300" (click)="closeGallery()">
  
  <button class="absolute top-4 right-4 text-white hover:text-gray-300 p-2 z-[110]" (click)="closeGallery()">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
  </button>

  <button *ngIf="lightboxItems.length > 1" class="absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-4 z-[110] bg-black/30 hover:bg-black/60 rounded-full transition-all" (click)="prevMedia($event)">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
  </button>

  <button *ngIf="lightboxItems.length > 1" class="absolute right-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-4 z-[110] bg-black/30 hover:bg-black/60 rounded-full transition-all" (click)="nextMedia($event)">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
  </button>

  <div class="relative max-w-7xl w-full h-full flex flex-col items-center justify-center" (click)="$event.stopPropagation()">
    <img *ngIf="lightboxItems[lightboxIndex].type === 'image'" 
         [src]="lightboxItems[lightboxIndex].url" 
         class="max-w-full max-h-[85vh] object-contain rounded-md shadow-2xl animate-fade-in select-none">
    
    <video *ngIf="lightboxItems[lightboxIndex].type === 'video'" 
           [src]="lightboxItems[lightboxIndex].url" 
           controls autoplay
           class="max-w-full max-h-[85vh] w-auto rounded-md shadow-2xl">
    </video>

    <div class="absolute bottom-4 left-0 right-0 text-center text-white/80 pointer-events-none font-mono text-sm">
      {{ lightboxIndex + 1 }} / {{ lightboxItems.length }}
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/pages/home/home.component.html
Lignes:      219
====================================

<app-hero-slider></app-hero-slider>

<section class="py-16 md:py-24 bg-gradient-to-b from-blue-50 to-white overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <ng-container *ngIf="settings$ | async as settings; else loadingSettings">
      <div class="max-w-4xl mx-auto text-center">
        <div class="w-full">
          <h2 class="text-blue-600 font-semibold tracking-wide uppercase text-sm mb-2">Bienvenue à Kerkennah</h2>
          <h3 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">Découvrez {{ settings.businessName || 'Kyranis Park' }}</h3>
          <div class="text-gray-600 text-lg leading-relaxed mb-8 whitespace-pre-wrap font-light">
            {{ settings.homePageDescription || 'Un lieu unique où la nature rencontre le confort.\nProfitez de nos excursions en mer et de notre espace événementiel.' }}
          </div>
          <div class="flex flex-col sm:flex-row gap-4 justify-center flex-wrap">
            <a routerLink="/reservations" [queryParams]="{type: 'boat'}" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors text-center flex items-center justify-center">
               <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Réserver un Bateau
            </a>
            <a routerLink="/reservations" [queryParams]="{type: 'park'}" class="px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors text-center flex items-center justify-center">
               <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg> Réserver l'Espace Privé
            </a>
            <a routerLink="/contact" class="px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:border-gray-400 hover:bg-white transition-colors text-center">Nous Contacter</a>
            <button (click)="openFeedbackModal()" class="px-6 py-3 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition-colors text-center flex items-center justify-center">
               <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg> Donner votre avis
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-template #loadingSettings>
      <div class="animate-pulse flex space-x-4 h-64 items-center justify-center"><div class="text-gray-400">Chargement...</div></div>
    </ng-template>
  </div>
</section>

<section class="py-16 bg-blue-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900">Événements</h2>
      <p class="mt-4 text-gray-600">Nos prochains événements à ne pas manquer</p>
      
      <a routerLink="/evenements" class="hidden md:inline-flex items-center text-blue-600 font-semibold hover:text-blue-800 transition-colors mt-4">
        Voir tout l'agenda <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
      </a>
    </div>
    <ng-container *ngIf="upcomingEvents$ | async as events">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div *ngFor="let event of events" class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group flex flex-col h-full">
          <div class="relative h-48 overflow-hidden">
            <img [src]="getCoverImage(event)" [alt]="event.title" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
            <div class="absolute top-3 left-3 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded shadow">{{ event.date | date:'dd MMM' }}</div>
          </div>
          <div class="p-6 flex flex-col flex-grow">
            <div class="text-xs text-gray-500 mb-2 uppercase tracking-wide flex items-center">
              <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg>{{ event.location }}
            </div>
            <h3 class="text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors">{{ event.title }}</h3>
            <p class="text-gray-600 text-sm line-clamp-2 mb-4 flex-grow">{{ event.description }}</p>
            <a routerLink="/evenements" class="text-blue-600 font-medium text-sm hover:underline mt-auto">En savoir plus &rarr;</a>
          </div>
        </div>
      </div>
      <div *ngIf="events.length === 0" class="text-center py-10 bg-white rounded-lg shadow-sm border border-gray-100">
        <p class="text-gray-500">Aucun événement prévu prochainement.</p>
        <a routerLink="/contact" class="text-blue-600 font-semibold text-sm mt-2 inline-block">Organiser le vôtre ?</a>
      </div>
      <div class="text-center mt-8 md:hidden">
         <a routerLink="/evenements" class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-800 transition-colors">Voir tout l'agenda &rarr;</a>
      </div>
    </ng-container>
  </div>
</section>

<section class="py-16 bg-white border-t border-gray-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900">Nos Galeries</h2>
      <p class="mt-4 text-gray-600">Découvrez nos albums photos par thématique</p>
    </div>
    <ng-container *ngIf="parkGalleries$ | async as galleries">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div *ngFor="let gallery of galleries" class="group cursor-pointer bg-gray-50 rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1" (click)="openGallery(gallery)">
          <div class="relative h-64 overflow-hidden">
            <img *ngIf="gallery.images && gallery.images.length > 0" [src]="gallery.images[0]" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" [alt]="gallery.name">
            <div *ngIf="!gallery.images || gallery.images.length === 0" class="w-full h-full bg-gray-200 flex items-center justify-center text-gray-400">NO IMAGE</div>
            <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors"></div>
            <div class="absolute top-4 right-4 bg-black/60 text-white text-xs px-2 py-1 rounded backdrop-blur-sm">{{ gallery.images.length }} Photos</div>
          </div>
          <div class="p-6 relative">
            <h3 class="text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors">{{ gallery.name }}</h3>
            <p class="text-sm text-gray-500 mt-2 flex items-center"><span class="text-blue-500 mr-2">Voir l'album</span> &rarr;</p>
          </div>
        </div>
      </div>
      <div *ngIf="galleries.length === 0" class="text-center text-gray-500 py-10">Aucun album disponible.</div>
    </ng-container>
  </div>
</section>

<section class="py-16 bg-blue-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-center text-gray-900 mb-12">Ce que disent nos visiteurs</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <ng-container *ngIf="approvedFeedbacks$ | async as feedbacks">
        <div *ngFor="let fb of feedbacks" class="bg-white p-8 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex text-yellow-400 mb-4">
            <ng-container *ngFor="let star of [1,2,3,4,5]">
              <svg *ngIf="star <= fb.rating" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
            </ng-container>
          </div>
          <p class="text-gray-600 italic mb-6">"{{ fb.message }}"</p>
          <div>
            <h4 class="font-bold text-gray-900">{{ fb.name }}</h4>
            <span class="text-sm text-gray-500">{{ fb.createdAt | date:'mediumDate' }}</span>
          </div>
        </div>
        <div *ngIf="feedbacks.length === 0" class="col-span-3 text-center py-8">
          <p class="text-gray-500 italic text-lg mb-4">Aucun avis validé pour le moment.</p>
          <button (click)="openFeedbackModal()" class="text-blue-600 font-semibold hover:underline">Soyez le premier à donner votre avis !</button>
        </div>
      </ng-container>
    </div>
  </div>
</section>

<section class="py-20 bg-gradient-to-r from-blue-900 to-blue-700 text-center text-white">
  <div class="max-w-4xl mx-auto px-4">
    <h2 class="text-3xl md:text-5xl font-bold mb-6">Prêt pour l'aventure ?</h2>
    <p class="text-xl text-blue-100 mb-10 max-w-2xl mx-auto">Que ce soit pour une journée en mer ou une soirée privée, réservez votre moment d'exception dès aujourd'hui.</p>
    <div class="flex flex-col sm:flex-row justify-center gap-4">
      <a routerLink="/reservations" [queryParams]="{type: 'boat'}" class="px-8 py-4 bg-white text-blue-900 font-bold rounded-lg hover:bg-gray-100 transition-colors shadow-lg">Réserver un Bateau</a>
      <a routerLink="/reservations" [queryParams]="{type: 'park'}" class="px-8 py-4 border-2 border-white text-white font-bold rounded-lg hover:bg-white/10 transition-colors">Réserver l'Espace Privé</a>
    </div>
  </div>
</section>

<div *ngIf="isFeedbackModalOpen" class="fixed inset-0 z-[100] overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" (click)="closeFeedbackModal()"></div>
    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full">
      <form [formGroup]="feedbackForm" (ngSubmit)="submitFeedback()">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Laissez votre avis</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">Votre Nom</label>
              <input type="text" formControlName="name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500" [class.border-red-500]="isFieldInvalid('name')">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Note</label>
              <div class="flex gap-2">
                <button type="button" *ngFor="let star of stars" (click)="setRating(star)" class="focus:outline-none transition-transform hover:scale-110">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" [class.text-yellow-400]="feedbackForm.get('rating')?.value >= star" [class.text-gray-300]="feedbackForm.get('rating')?.value < star" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                </button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">Message (Min 10 caractères)</label>
              <textarea formControlName="message" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500" [class.border-red-500]="isFieldInvalid('message')"></textarea>
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <label class="block text-sm font-bold text-gray-700 mb-1">Combien font {{captchaA}} + {{captchaB}} ?</label>
              <input type="number" formControlName="captcha" placeholder="Votre réponse" class="block w-24 border border-gray-300 rounded-md shadow-sm py-1 px-2 focus:ring-blue-500 focus:border-blue-500" [class.border-red-500]="isFieldInvalid('captcha')">
            </div>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse items-center gap-3">
          <button type="submit" [disabled]="isSubmittingFeedback" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed">{{ isSubmittingFeedback ? 'Envoi...' : 'Envoyer' }}</button>
          <button type="button" (click)="closeFeedbackModal()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">Annuler</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div *ngIf="isLightboxOpen" 
     class="fixed inset-0 z-[150] bg-black/95 flex items-center justify-center backdrop-blur-md transition-opacity duration-300" 
     (click)="closeLightbox()">
  
  <button class="absolute top-4 right-4 z-[160] p-3 text-white bg-black/50 hover:bg-red-600 rounded-full transition-colors border border-white/20" 
          (click)="closeLightbox()">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>

  <button *ngIf="lightboxItems.length > 1"
          class="absolute left-2 md:left-8 top-1/2 -translate-y-1/2 z-[160] p-4 text-white bg-black/50 hover:bg-white/20 rounded-full transition-all border border-white/20" 
          (click)="$event.stopPropagation(); prevMedia($event)">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <button *ngIf="lightboxItems.length > 1"
          class="absolute right-2 md:right-8 top-1/2 -translate-y-1/2 z-[160] p-4 text-white bg-black/50 hover:bg-white/20 rounded-full transition-all border border-white/20" 
          (click)="$event.stopPropagation(); nextMedia($event)">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </button>

  <div class="relative max-w-7xl w-full h-full flex flex-col items-center justify-center p-2" (click)="$event.stopPropagation()">
    
    <img *ngIf="lightboxItems[lightboxIndex].type === 'image'" 
         [src]="lightboxItems[lightboxIndex].url" 
         class="max-w-full max-h-[85vh] object-contain rounded shadow-2xl animate-fade-in select-none">
    
    <video *ngIf="lightboxItems[lightboxIndex].type === 'video'" 
           [src]="lightboxItems[lightboxIndex].url" 
           controls autoplay
           class="max-w-full max-h-[85vh] w-auto rounded shadow-2xl outline-none border border-gray-800">
    </video>

    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 text-white/90 text-sm bg-black/60 px-4 py-1 rounded-full border border-white/10 backdrop-blur-sm">
      {{ lightboxIndex + 1 }} / {{ lightboxItems.length }}
    </div>
  </div>
</div>

====================================
FICHIER: ./src/app/pages/reservations/reservations.component.html
Lignes:      289
====================================

<div class="min-h-screen bg-gray-50 py-12">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <a routerLink="/" class="inline-flex items-center text-gray-500 hover:text-blue-600 mb-6 transition-colors group cursor-pointer no-underline select-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
      Retour à l'accueil
    </a>

    <div class="text-center mb-12">
      <h1 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">Réservez Votre Expérience</h1>
      <p class="mt-4 text-lg text-gray-600">Choisissez votre aventure : une évasion en mer ou un événement inoubliable sur terre.</p>
    </div>

    <div class="flex justify-center mb-8">
      <div class="bg-white p-1 rounded-xl shadow-sm inline-flex">
        <button (click)="switchTab('boat')"
                [class]="activeTab === 'boat' ? 'bg-blue-600 text-white shadow' : 'text-gray-500 hover:text-gray-900'"
                class="px-8 py-3 rounded-lg text-sm font-medium transition-all duration-200">
          Excursion Bateau
        </button>
        <button (click)="switchTab('park')"
                [class]="activeTab === 'park' ? 'bg-blue-600 text-white shadow' : 'text-gray-500 hover:text-gray-900'"
                class="px-8 py-3 rounded-lg text-sm font-medium transition-all duration-200 ml-2">
          Espace Privé
        </button>
      </div>
    </div>

    <div *ngIf="submitSuccess" class="mb-8 bg-green-50 border-l-4 border-green-400 p-4 rounded-md animate-fade-in-up">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="ml-3">
          <p class="text-sm text-green-700 font-medium">
            Votre demande de réservation a été envoyée avec succès !
          </p>
          <p class="text-sm text-green-600 mt-1">
            Notre équipe vous contactera sous peu pour confirmer les détails.
          </p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row">
      
      <div class="p-8 md:w-2/3">
        
        <form *ngIf="activeTab === 'boat'" [formGroup]="boatForm" (ngSubmit)="onSubmit()" class="space-y-6">
          
          <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
            <div class="sm:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Nom Complet *</label>
              <input type="text" formControlName="fullName" 
                     [class.border-red-500]="isFieldInvalid('fullName')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
              <p *ngIf="isFieldInvalid('fullName')" class="mt-1 text-xs text-red-500">Nom requis (min 3 caractères)</p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Email *</label>
              <input type="email" formControlName="email"
                     [class.border-red-500]="isFieldInvalid('email')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
              <p *ngIf="isFieldInvalid('email')" class="mt-1 text-xs text-red-500">Email invalide</p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Téléphone *</label>
              <input type="text" formControlName="phone" placeholder="+216..."
                     [class.border-red-500]="isFieldInvalid('phone')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
              <p *ngIf="isFieldInvalid('phone')" class="mt-1 text-xs text-red-500">Format requis: +216xxxxxxxx</p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Date de sortie *</label>
              <input type="date" formControlName="date" [min]="minDate"
                     [class.border-red-500]="isFieldInvalid('date')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Heure de départ *</label>
              <input type="time" formControlName="time"
                     [class.border-red-500]="isFieldInvalid('time')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Type de Bateau *</label>
              <select formControlName="boatType"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border bg-white">
                <option value="flouka">Flouka Traditionnelle</option>
                <option value="speed_boat">Speed Boat</option>
                <option value="catamaran">Catamaran</option>
                <option value="yacht">Yacht Privé</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Personnes (1-50) *</label>
              <input type="number" formControlName="numberOfPeople" min="1" max="50"
                     [class.border-red-500]="isFieldInvalid('numberOfPeople')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div class="sm:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Demandes Spéciales</label>
              <textarea formControlName="specialRequests" rows="3"
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border"></textarea>
            </div>

            <div class="sm:col-span-2">
              <div class="flex items-start">
                <div class="flex items-center h-5">
                  <input id="terms" type="checkbox" formControlName="acceptTerms"
                         class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                </div>
                <div class="ml-3 text-sm">
                  <label for="terms" class="font-medium text-gray-700">J'accepte les conditions générales</label>
                  <p *ngIf="isFieldInvalid('acceptTerms')" class="text-red-500 text-xs mt-1">Vous devez accepter les conditions.</p>
                </div>
              </div>
            </div>
          </div>

          <button type="submit" [disabled]="boatForm.invalid || isSubmitting"
                  class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
            <span *ngIf="isSubmitting" class="animate-spin mr-2">⟳</span>
            {{ isSubmitting ? 'Traitement...' : 'Réserver le Bateau' }}
          </button>
        </form>

        <form *ngIf="activeTab === 'park'" [formGroup]="parkForm" (ngSubmit)="onSubmit()" class="space-y-6">
          
          <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
             <div class="sm:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Nom Complet *</label>
              <input type="text" formControlName="fullName" 
                     [class.border-red-500]="isFieldInvalid('fullName')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Email *</label>
              <input type="email" formControlName="email"
                     [class.border-red-500]="isFieldInvalid('email')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Téléphone *</label>
              <input type="text" formControlName="phone" placeholder="+216..."
                     [class.border-red-500]="isFieldInvalid('phone')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Date de l'événement *</label>
              <input type="date" formControlName="date" [min]="minDate"
                     [class.border-red-500]="isFieldInvalid('date')"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Type d'événement *</label>
              <select formControlName="eventType"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border bg-white">
                <option value="birthday">Anniversaire</option>
                <option value="marriage">Mariage / Fiançailles</option>
                <option value="conference">Conférence / Pro</option>
                <option value="other">Autre</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Durée *</label>
              <select formControlName="duration"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border bg-white">
                <option value="half_day">Demi-journée (4h)</option>
                <option value="full_day">Journée complète (8h)</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Nombre d'invités (Max 200)</label>
              <input type="number" formControlName="numberOfPeople" min="10" max="200"
                     class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border">
            </div>

            <div class="flex items-center pt-6">
              <input id="menu" type="checkbox" formControlName="menuIncluded"
                     class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
              <label for="menu" class="ml-2 block text-sm text-gray-900">
                Inclure Service Traiteur (+50 TND/pers)
              </label>
            </div>

            <div class="sm:col-span-2">
              <label class="block text-sm font-medium text-gray-700">Détails supplémentaires</label>
              <textarea formControlName="specialRequests" rows="3"
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border"></textarea>
            </div>

            <div class="sm:col-span-2">
              <div class="flex items-start">
                <div class="flex items-center h-5">
                  <input id="termsPark" type="checkbox" formControlName="acceptTerms"
                         class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                </div>
                <div class="ml-3 text-sm">
                  <label for="termsPark" class="font-medium text-gray-700">J'accepte les conditions générales</label>
                  <p *ngIf="isFieldInvalid('acceptTerms')" class="text-red-500 text-xs mt-1">Requis.</p>
                </div>
              </div>
            </div>
          </div>

          <button type="submit" [disabled]="parkForm.invalid || isSubmitting"
                  class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
            <span *ngIf="isSubmitting" class="animate-spin mr-2">⟳</span>
            {{ isSubmitting ? 'Traitement...' : 'Demander un Devis' }}
          </button>
        </form>

      </div>

      <div class="bg-gray-900 p-8 md:w-1/3 text-white flex flex-col justify-between">
        <div>
          <h3 class="text-xl font-bold mb-6 border-b border-gray-700 pb-2">Récapitulatif</h3>
          
          <div class="space-y-4 text-sm text-gray-300">
            <div class="flex justify-between">
              <span>Type:</span>
              <span class="font-medium text-white capitalize">{{ activeTab === 'boat' ? 'Sortie Bateau' : 'Espace Privé' }}</span>
            </div>
            
            <ng-container *ngIf="activeTab === 'boat'">
               <div class="flex justify-between">
                 <span>Bateau:</span>
                 <span class="font-medium text-white capitalize">{{ boatForm.get('boatType')?.value }}</span>
               </div>
               <div class="flex justify-between">
                 <span>Personnes:</span>
                 <span class="font-medium text-white">{{ boatForm.get('numberOfPeople')?.value }}</span>
               </div>
            </ng-container>

            <ng-container *ngIf="activeTab === 'park'">
               <div class="flex justify-between">
                 <span>Événement:</span>
                 <span class="font-medium text-white capitalize">{{ parkForm.get('eventType')?.value }}</span>
               </div>
               <div class="flex justify-between">
                 <span>Invités:</span>
                 <span class="font-medium text-white">{{ parkForm.get('numberOfPeople')?.value }}</span>
               </div>
               <div class="flex justify-between" *ngIf="parkForm.get('menuIncluded')?.value">
                 <span>Traiteur:</span>
                 <span class="font-medium text-green-400">Inclus</span>
               </div>
            </ng-container>

            <div class="flex justify-between">
              <span>Date:</span>
              <span class="font-medium text-white">
                 {{ (activeTab === 'boat' ? boatForm.get('date')?.value : parkForm.get('date')?.value) | date:'mediumDate' }}
              </span>
            </div>
          </div>
        </div>

        <div class="mt-10">
          <p class="text-sm text-gray-400 uppercase tracking-wide">Total Estimé</p>
          <div class="text-4xl font-bold text-white mt-2">
            {{ estimatedPrice }} <span class="text-lg text-gray-400 font-normal">TND</span>
          </div>
          <p class="text-xs text-gray-500 mt-2 italic">*Le prix final peut varier selon les options confirmées.</p>
        </div>
      </div>

    </div>
  </div>
</div>

====================================
FICHIER: ./src/index.html
Lignes:       34
====================================

<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Kyranis Park - Évasion à Kerkennah</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  
  <meta name="description" content="Découvrez Kyranis Park aux îles Kerkennah. Excursions en bateau, espace événementiel privé, mariages et détente en bord de mer.">
  <meta name="keywords" content="Kerkennah, Tunisie, Parc, Bateau, Excursion, Mariage, Événement, Tourisme">
  <meta name="author" content="Kyranis Park">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kyranispark.tn/">
  <meta property="og:title" content="Kyranis Park - Évasion à Kerkennah">
  <meta property="og:description" content="Vivez une expérience unique entre terre et mer aux îles Kerkennah.">
  <meta property="og:image" content="https://kyranispark.tn/assets/og-image.jpg">

  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-XXXXXXXXXX');
  </script>
  <link rel="manifest" href="manifest.webmanifest">
</head>
<body>
  <app-root></app-root>
  <noscript>Please enable JavaScript to continue using this application.</noscript>
</body>
</html>

====================================
FICHIER: ./src/app/app.component.scss
Lignes:        0
====================================


====================================
FICHIER: ./src/app/app.scss
Lignes:        0
====================================


====================================
FICHIER: ./src/app/components/admin-dashboard/admin-dashboard.component.scss
Lignes:       18
====================================

:host {
  display: block;
}

/* Custom scrollbar for content area */
main::-webkit-scrollbar {
  width: 8px;
}
main::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
main::-webkit-scrollbar-thumb {
  background: #cbd5e1; 
  border-radius: 4px;
}
main::-webkit-scrollbar-thumb:hover {
  background: #94a3b8; 
}

====================================
FICHIER: ./src/app/components/admin-dashboard/dashboard-stats/dashboard-stats.component.scss
Lignes:        3
====================================

:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-events/manage-events.component.scss
Lignes:        3
====================================

:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-feedback/manage-feedback.component.scss
Lignes:        1
====================================

:host { display: block; }

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-gallery/manage-gallery.component.scss
Lignes:        3
====================================

:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-hero/manage-hero.component.scss
Lignes:        1
====================================

:host { display: block; }

====================================
FICHIER: ./src/app/components/admin-dashboard/manage-reservations/manage-reservations.component.scss
Lignes:        3
====================================

:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/admin-dashboard/settings/settings.component.scss
Lignes:        3
====================================

:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/footer/footer.component.scss
Lignes:        4
====================================

:host {
  display: block;
  width: 100%;
}

====================================
FICHIER: ./src/app/components/gallery/gallery.component.scss
Lignes:       12
====================================

:host {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

====================================
FICHIER: ./src/app/components/header/header.component.scss
Lignes:        4
====================================

/* Styles spécifiques si Tailwind ne suffit pas */
:host {
  display: block;
}

====================================
FICHIER: ./src/app/components/hero-slider/hero-slider.component.scss
Lignes:       24
====================================

/* Petites animations CSS standard pour le texte qui arrive */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 40px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.8s ease-out forwards;
  opacity: 0; // Départ invisible
}

.delay-200 {
  animation-delay: 0.2s;
}

.delay-300 {
  animation-delay: 0.4s;
}

====================================
FICHIER: ./src/app/components/slider/slider.component.scss
Lignes:        0
====================================


====================================
FICHIER: ./src/app/pages/accueil/accueil.component.scss
Lignes:        0
====================================


====================================
FICHIER: ./src/app/pages/contact/contact.component.scss
Lignes:       28
====================================

:host {
  display: block;
}

@keyframes pulseSlow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(24, 119, 242, 0.7);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 0 15px rgba(24, 119, 242, 0);
    transform: scale(1.05);
  }
}

.animate-pulse-slow {
  animation: pulseSlow 3s infinite;
}

/* Fallback Iframe */
iframe {
  filter: grayscale(20%) contrast(1.1);
  transition: filter 0.3s;
}

iframe:hover {
  filter: grayscale(0%);
}

====================================
FICHIER: ./src/app/pages/evenements/evenements.component.scss
Lignes:       11
====================================

:host {
  display: block;
}

/* Aspect Ratio fallback si Tailwind plugin non installé */
.aspect-square {
  aspect-ratio: 1 / 1;
}
.aspect-video {
  aspect-ratio: 16 / 9;
}

====================================
FICHIER: ./src/app/pages/home/home.component.scss
Lignes:        8
====================================

:host {
  display: block;
}

/* Fallback simple si pas d'image chargée */
.bg-gray-50 {
  min-height: 200px;
}

====================================
FICHIER: ./src/app/pages/reservations/reservations.component.scss
Lignes:       20
====================================

:host {
  display: block;
}

/* Animation simple pour l'apparition du message succès */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
}

/* Focus styles pour accessibilité et esthétique */
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #2563eb; /* blue-600 */
  ring: 2px;
}

====================================
FICHIER: ./src/styles.scss
Lignes:      175
====================================

/* 1. SASS Modules (OBLIGATOIREMENT EN PREMIER) */
@use 'bootstrap/scss/bootstrap';

/* 2. Google Fonts (Poppins & Inter) */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;600&display=swap');

/* 3. Tailwind Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 4. Custom Layers */

@layer base {
  /* --- RESET & BASE TYPOGRAPHY --- */
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans text-gray-800 bg-light antialiased;
    overflow-x: hidden; /* Empêche le scroll horizontal accidentel */
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-tight text-gray-900;
  }

  h1 { @apply text-4xl md:text-5xl lg:text-6xl mb-6; }
  h2 { @apply text-3xl md:text-4xl mb-4; }
  h3 { @apply text-2xl md:text-3xl mb-3; }
  p { @apply leading-relaxed mb-4 text-gray-600; }
  
  a { @apply transition-colors duration-300; }
}

@layer components {
  /* --- BUTTON STYLES --- */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-all duration-300 transform focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  /* Primary: Teal (Mer) */
  .btn-primary {
    @apply bg-primary text-white hover:bg-primary-dark shadow-lg hover:shadow-xl hover:-translate-y-1 focus:ring-primary;
  }

  /* Secondary: Coral (Action) */
  .btn-secondary {
    @apply bg-secondary text-white hover:bg-secondary-dark shadow-lg hover:shadow-xl hover:-translate-y-1 focus:ring-secondary;
  }

  /* Outline */
  .btn-outline {
    @apply border-2 border-white text-white hover:bg-white hover:text-primary;
  }

  /* --- FORM INPUT STYLES --- */
  .form-group {
    @apply mb-6;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  .form-input, 
  .form-select, 
  .form-textarea {
    @apply block w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-3 px-4 bg-white transition-shadow duration-200;
  }

  .form-input:focus, 
  .form-select:focus, 
  .form-textarea:focus {
    @apply ring-2 ring-primary/50 border-primary outline-none;
  }
  
  /* --- CARDS --- */
  .card {
    @apply bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300;
  }
}

@layer utilities {
  /* --- ANIMATIONS --- */
  
  /* Fade In */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-in-out forwards;
  }

  /* Slide Up */
  .animate-slide-up {
    animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0; /* Start hidden */
  }
  
  /* Delay Helpers */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-500 { animation-delay: 500ms; }

  /* Hover Effects */
  .hover-bounce:hover {
    animation: bounce 0.5s;
  }

  .hover-zoom {
    @apply transition-transform duration-500 ease-out;
  }
  .hover-zoom:hover {
    @apply scale-105;
  }

  /* --- PARALLAX HELPERS --- */
  /* Utilise la perspective CSS pure */
  .parallax-wrapper {
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
    perspective: 10px;
  }

  .parallax-layer-base {
    transform: translateZ(0);
  }

  .parallax-layer-back {
    transform: translateZ(-10px) scale(2);
    z-index: -1;
  }
}

/* --- KEYFRAMES --- */

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(30px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #008B8B; /* Primary color */
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #006666; /* Primary dark */
}


====================================
  RÉSUMÉ
====================================
Total fichiers: 88
Total lignes: 5737
Date: Fri Dec 12 21:33:01 CET 2025
====================================
